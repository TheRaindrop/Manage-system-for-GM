{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.number.parse-int.js","webpack:///src/pages/flight/FlightCard.vue","webpack:///./src/pages/flight/FlightCard.vue?7602","webpack:///./src/pages/flight/FlightCard.vue","webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./node_modules/core-js/library/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/library/fn/reflect/own-keys.js","webpack:///./node_modules/babel-runtime/core-js/number/parse-int.js","webpack:///./node_modules/core-js/library/modules/_own-keys.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///src/pages/flight/Flight.vue","webpack:///./src/pages/flight/Flight.vue?3e5a","webpack:///./src/pages/flight/Flight.vue","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/core-js/library/fn/number/parse-int.js","webpack:///./node_modules/babel-runtime/core-js/reflect/own-keys.js"],"names":["$export","__webpack_require__","$parseInt","S","F","Number","parseInt","FlightCard","Object","Array","price","i","_step","value","show","departDate","airline","depart","arrive","cabin","then","res","refundTicketDes","s","error","no","flightLegBriefs","_iteratorNormalCompletion2","_step2","departureAirport","yprice","fprice","cprice","getDate","level","departTime","arriveTime","flightTime","stock","fuelFee","taxFee","theprice","operatingNo","shared","meals","plane","onTimeRate","nonstop","buyPrice","parPrice","discount","sign","this","$router","push","path","query","orderObj","encodeURIComponent","stringify_default","cardObj","_step3","origContact","newContact","origFlight","arriveTerminal","departTerminal","o","arr","message","flight_FlightCard","render","_vm","_h","$createElement","_c","_self","ow_data","cabins","length","directives","name","rawName","expression","staticClass","class","actived","useable","on","click","showExtends","attrs","src","flight_data","logo","_v","_s","get","effect","content","substr","placement","_e","departPort","arrivePort","minPrice","_m","_l","item","$event","remarkRule","span","Math","ceil","salePrices","_f","buyOrRscd","type","orderTicket","reschedule","title","visible","dialogRemarkRule","width","update:visible","remarkRuleMessage","slot","size","dialogTransit","transitMessage","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","$trim","trim","ws","hex","module","exports","str","radix","string","String","test","ownKeys","Reflect","default","__esModule","gOPN","gOPS","anObject","it","keys","f","getSymbols","concat","Flight","flightCityCard","FlightCityCard","flight","setTime","_this2","clear","cityCode","_iteratorNormalCompletion","airportNameCN","theDepart","theArrive","_i3","j","getFlightData","Date","pageXOffset","pageYOffset","top","flight_Flight","search-hide","searchHide","model","staticStyle","margin","gutter","justify","placeholder","citySelect","departSelect","callback","$$v","$set","text-align","cityExchange","arriveSelect","value-format","flightSearch","screening-fix","screeningFix","ref","flight_opt","filterable","multiple","change","screening","flight_scn","key","label","element-loading-text","flight_data_show","index","ow_data_show","height","background-color","padding-top","font-family","font-size","color","defined","fails","spaces","space","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace"],"mappings":"gEAAA,IAAAA,EAAAC,EAAA,QACAC,EAAAD,EAAA,QAEAD,IAAAG,EAAAH,EAAAI,GAAAC,OAAAC,UAAAJ,GAAA,UAA2EI,SAAAJ,+HC0F3EK,mCAIA,QACA,aACA,UACA,SACA,oBACA,uBACA,oBACA,kBACA,wBACA,iBAEA,wBAGAC,eACAA,uBAEAH,eAEA,kBACAI,mBAEAJ,iBAGA,6EAGAK,+FACA,IAAAC,EAAAC,EAAAC,kDAEAH,sGAGAA,6DAKA,sCAGAG,oFAMAC,gEAIA,4BACA,oEAEAC,wCACAC,gCACAC,+BACAC,aACAC,IALAC,KAAA,SAAAC,4EAOAC,oCACAC,yBACA,kCAEAC,2DAIA,6BACA,sEAEAT,0FACAU,KAFAL,KAAA,SAAAC,sBAIAK,iBADA,IAAAC,GAAA,yFAEA,IAAAhB,EAAAiB,EAAAf,uCAEAgB,gCACAb,qCACAa,yHAEA,kCAEAL,8DAIAT,cACA,oDAEAe,sDAEAC,wDAEAC,qEAGAC,8DACA,uDACA,6CACAjB,6BACAS,WACAN,cACAe,kCACAC,uCACAC,mHACA,4GACA,gCACAC,mBACAC,mGAMA,2BACAC,gCACAC,gBAIAC,+BAGA/B,8GAEA,sGACA,8BACAQ,eACAC,8BACAF,2FACA,6FACA,wCACA,qBACA,6BACAQ,qCACA,wCACA,gCACAiB,oCACAC,sCACA,qCAGA,cAEA,SACA,WACA,sCAGA3B,qJAGA,kFACA,+BACAmB,uCACAC,gKAGAM,wCACAL,0BACAH,cACAf,6BACAyB,6BACAC,kCACAC,oCACAC,iBAGA,mGAOA,2BACAR,gCACAC,gCACAQ,kCACAC,mCACAvC,qBACAwB,kBACAO,2BACAS,8BAGAC,qBA3CAC,KAAAC,QAAAC,MAAAC,KAAA,eAAAC,OAAAC,SAAAC,mBAAAC,IAAAF,IAAAG,QAAAF,mBAAAC,IA+CAC,6DAKA,+FACA,IAAAjD,EAAAkD,EAAAhD,2BAEAiD,2BACAC,0BACAC,gDAEA/C,+BACAC,mCACAH,qCACAU,YACA,kCACAwC,+CACAC,2CACA9B,uCACAD,mBACAhB,oCACAuB,mCACAE,qBACAV,6BACAW,kCACAC,uCACAT,oCACArB,iCAEA+B,gBACAoB,0IAGAC,IADAhD,KAAA,SAAAC,cAGA,kDAEA,0BACA,mCAEAgD,8CAGA,mBACA,cACA7C,ylBAKA,oCACAR,sBACA,uCACA,YACA,IACA,mFAGAsB,+CAKA,qBC9VAgC,GADiBC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAD,EAAAK,QAAAC,OAAAC,OAAA,EAAAJ,EAAA,OAAiDK,aAAaC,KAAA,UAAAC,QAAA,YAAArE,MAAA2D,EAAA,QAAAW,WAAA,cAA8ER,EAAA,OAAYS,YAAA,SAAAC,OAA4BC,QAAAd,EAAA1D,QAAqB6D,EAAA,OAAYS,YAAA,eAAAC,OAAkCE,QAAAf,EAAAK,QAAAC,OAAAC,QAAA,GAA0CS,IAAKC,MAAAjB,EAAAkB,eAAyBf,EAAA,OAAYS,YAAA,sBAAgCT,EAAA,OAAYS,YAAA,cAAwBT,EAAA,OAAYS,YAAA,gBAA0BT,EAAA,QAAaS,YAAA,SAAmBT,EAAA,OAAYgB,OAAOC,IAAApB,EAAAqB,YAAAC,UAA4BnB,EAAA,QAAeS,YAAA,UAAoBZ,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAxD,QAAAiF,IAAAzB,EAAAqB,YAAA7E,eAAA2D,EAAA,OAAyES,YAAA,sBAAgCT,EAAA,QAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAApE,OAAAkD,EAAA,QAAAH,EAAAuB,GAAA,KAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAhD,UAAA2B,EAAAqB,YAAA,OAAAlB,EAAA,QAA8IS,YAAA,WAAqBT,EAAA,cAAmBS,YAAA,OAAAO,OAA0BO,OAAA,OAAAC,QAAA,SAAA3B,EAAAxD,QAAAiF,IAAAzB,EAAAqB,YAAAnD,YAAA0D,OAAA,MAAA5B,EAAAqB,YAAAnD,YAAA2D,UAAA,kBAAyJ1B,EAAA,QAAAH,EAAAuB,GAAA,cAAAvB,EAAA8B,WAAA3B,EAAA,OAA2DS,YAAA,sBAAgCT,EAAA,OAAYS,YAAA,WAAqBT,EAAA,MAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAA1D,eAAAwC,EAAA,KAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAU,YAAA/B,EAAAwB,GAAAxB,EAAAqB,YAAA3B,qBAAAS,EAAA,OAAgKS,YAAA,WAAqBT,EAAA,OAAYS,YAAA,UAAoBZ,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAxD,eAAAsC,EAAA,OAAyDS,YAAA,SAAmBZ,EAAAqB,YAAA,QAAAlB,EAAA,KAAoCS,YAAA,YAAsBZ,EAAAuB,GAAA,SAAAvB,EAAA8B,OAAA3B,EAAA,OAAuCS,YAAA,WAAqBT,EAAA,MAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAzD,eAAAuC,EAAA,KAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAW,YAAAhC,EAAAwB,GAAAxB,EAAAqB,YAAA5B,uBAAAU,EAAA,OAAkKS,YAAA,uBAAiCT,EAAA,KAAUS,YAAA,QAAkBT,EAAA,QAAaS,YAAA,QAAkBZ,EAAAuB,GAAA,OAAApB,EAAA,QAA2BS,YAAA,SAAmBZ,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAiC,eAAAjC,EAAAkC,GAAA,OAAA/B,EAAA,0BAAAA,EAAA,OAAwFK,aAAaC,KAAA,OAAAC,QAAA,SAAArE,MAAA2D,EAAA,KAAAW,WAAA,SAAgEC,YAAA,oBAAgCT,EAAA,OAAYS,YAAA,yBAAmCT,EAAA,OAAYS,YAAA,eAAyB,MAAAZ,EAAAlC,OAAAkC,EAAAlC,MAAA,EAAAqC,EAAA,OAAiDS,YAAA,gBAA0BT,EAAA,OAAYS,YAAA,sBAAgCT,EAAA,MAAAA,EAAA,MAAAH,EAAAuB,GAAA,OAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAA/C,eAAA,MAAA0B,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,iBAAAvB,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,iBAAAvB,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,kBAAAvB,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,kBAAAvB,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,kBAAAvB,EAAAqB,YAAAjD,MAAA+B,EAAA,MAAAH,EAAAuB,GAAA,MAAAvB,EAAAwB,GAAAxB,EAAAqB,YAAAjD,UAAA+B,EAAA,MAAAH,EAAAuB,GAAA,SAAApB,EAAA,MAAAH,EAAAuB,GAAA,sBAAApB,EAAA,OAAsgBS,YAAA,uBAAiCT,EAAA,OAAYS,YAAA,eAA0BZ,EAAAmC,GAAAnC,EAAAK,QAAA,gBAAA+B,GAA4C,OAAAA,EAAAtE,MAAA,SAAAsE,EAAAtE,MAAAqC,EAAA,OAAwDS,YAAA,oBAA8BT,EAAA,OAAYS,YAAA,cAAwB,MAAAwB,EAAA1E,MAAAyC,EAAA,QAAAH,EAAAuB,GAAA,cAAAa,EAAA1E,MAAAyC,EAAA,QAAAH,EAAAuB,GAAA,QAAApB,EAAA,QAAAH,EAAAuB,GAAA,QAAApB,EAAA,QAAAH,EAAAuB,GAAAvB,EAAAwB,GAAAY,EAAAzF,OAAA,SAAAwD,EAAA,OAA8KS,YAAA,eAAyBT,EAAA,OAAYS,YAAA,oBAA8BT,EAAA,OAAYS,YAAA,yBAAmCT,EAAA,QAAaa,IAAIC,MAAA,SAAAoB,GAAyBrC,EAAAsC,WAAAF,EAAAzF,WAA6BqD,EAAAuB,GAAA,aAAApB,EAAA,OAAgCS,YAAA,oBAA8BT,EAAA,UAAAA,EAAA,UAA4BgB,OAAOoB,KAAA,KAAUpC,EAAA,QAAaS,YAAA,yBAAmCZ,EAAAuB,GAAA,OAAApB,EAAA,QAA2BS,YAAA,wBAAkCZ,EAAAuB,GAAAvB,EAAAwB,GAAAgB,KAAAC,KAAAL,EAAAM,WAAA,GAAAxG,aAAAiE,EAAA,UAAuEgB,OAAOoB,KAAA,KAAUpC,EAAA,QAAaS,YAAA,6BAAuCZ,EAAAuB,GAAA,MAAAvB,EAAAwB,GAAAxB,EAAA2C,GAAA,YAAA3C,CAAAoC,EAAAM,WAAA,GAAAhE,gBAAAyB,EAAA,UAA0FgB,OAAOoB,KAAA,KAAUpC,EAAA,QAAaS,YAAA,0BAAoCZ,EAAAuB,GAAA,MAAAvB,EAAAwB,GAAA,MAAAY,EAAAtE,MAAA,OAAAsE,EAAAtE,aAAA,SAAAqC,EAAA,OAAyFS,YAAA,aAAuB,IAAAZ,EAAA4C,WAAAzC,EAAA,aAAyCgB,OAAO0B,KAAA,WAAiB7B,IAAKC,MAAA,SAAAoB,GAAyBrC,EAAA8C,YAAAV,OAAwBpC,EAAAuB,GAAA,SAAAvB,EAAA8B,KAAA,IAAA9B,EAAA4C,WAAAzC,EAAA,aAAkEgB,OAAO0B,KAAA,WAAiB7B,IAAKC,MAAA,SAAAoB,GAAyBrC,EAAA+C,WAAAX,OAAuBpC,EAAAuB,GAAA,SAAAvB,EAAA8B,MAAA,KAAA9B,EAAA8B,YAA0C3B,EAAA,OAAiBS,YAAA,sBAAgCT,EAAA,KAAAH,EAAAuB,GAAA,sBAAApB,EAAA,aAAuDgB,OAAO6B,MAAA,QAAAC,QAAAjD,EAAAkD,iBAAAC,MAAA,OAA6DnC,IAAKoC,iBAAA,SAAAf,GAAkCrC,EAAAkD,iBAAAb,MAA8BlC,EAAA,KAAUK,aAAaC,KAAA,UAAAC,QAAA,YAAArE,MAAA2D,EAAA,oBAAAW,WAAA,0BAAsGX,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAqD,sBAAAlD,EAAA,QAAqDgB,OAAOmC,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBgB,OAAO0B,KAAA,UAAAU,KAAA,SAAgCvC,IAAKC,MAAA,SAAAoB,GAAyBrC,EAAAkD,kBAAA,MAA+BlD,EAAAuB,GAAA,cAAApB,EAAA,aAAuCgB,OAAO6B,MAAA,QAAAC,QAAAjD,EAAAwD,cAAAL,MAAA,OAA0DnC,IAAKoC,iBAAA,SAAAf,GAAkCrC,EAAAwD,cAAAnB,MAA2BlC,EAAA,KAAUK,aAAaC,KAAA,UAAAC,QAAA,YAAArE,MAAA2D,EAAA,qBAAAW,WAAA,2BAAwGX,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAAyD,mBAAAtD,EAAA,QAAkDgB,OAAOmC,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBgB,OAAO0B,KAAA,UAAAU,KAAA,SAAgCvC,IAAKC,MAAA,SAAAoB,GAAyBrC,EAAAwD,eAAA,MAA4BxD,EAAAuB,GAAA,kBAAAvB,EAAA8B,MAE7zK4B,iBADjB,WAAoC,IAAazD,EAAbrB,KAAasB,eAA0BC,EAAvCvB,KAAuCwB,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBS,YAAA,QAAkBT,EAAA,QAAaS,YAAA,QAA/GhC,KAAiI2C,GAAA,sBCErK,IAcAoC,EAdAlI,EAAA,OAcAmI,CACA7H,EACA+D,GATA,EAVA,SAAA+D,GACApI,EAAA,SAaA,kBAEA,MAUAqI,EAAA,EAAAH,EAAA,8BC1BA,IAAAjI,EAAAD,EAAA,QAAAK,SACAiI,EAAAtI,EAAA,QAAAuI,KACAC,EAAAxI,EAAA,QACAyI,EAAA,cAEAC,EAAAC,QAAA,IAAA1I,EAAAuI,EAAA,YAAAvI,EAAAuI,EAAA,iBAAAI,EAAAC,GACA,IAAAC,EAAAR,EAAAS,OAAAH,GAAA,GACA,OAAA3I,EAAA6I,EAAAD,IAAA,IAAAJ,EAAAO,KAAAF,GAAA,SACC7I,wBCPD,IAAAF,EAAAC,EAAA,QAEAD,IAAAG,EAAA,WAA+B+I,QAAAjJ,EAAA,gCCH/BA,EAAA,QACA0I,EAAAC,QAAA3I,EAAA,QAAAkJ,QAAAD,8BCDAP,EAAAC,SAAkBQ,QAAAnJ,EAAA,QAAAoJ,YAAA,yBCClB,IAAAC,EAAArJ,EAAA,QACAsJ,EAAAtJ,EAAA,QACAuJ,EAAAvJ,EAAA,QACAkJ,EAAAlJ,EAAA,QAAAkJ,QACAR,EAAAC,QAAAO,KAAAD,SAAA,SAAAO,GACA,IAAAC,EAAAJ,EAAAK,EAAAH,EAAAC,IACAG,EAAAL,EAAAI,EACA,OAAAC,EAAAF,EAAAG,OAAAD,EAAAH,IAAAC,uBCRAf,EAAAC,QAAA,qPCqDAkB,8BAEAC,eAAAC,EAAA,mCAGA,cACA,gBACA,yCAKA,oBAEA,sBAEA,oBAEA,sBAEA,oBAEA,sBAEA,oBAGA,iCAGA,UAEA,cAEA,UAEA,cAEA,UAGA,uBAGA,eAEA,iBAEA,eAGA,0BAGA,eAEA,iBAEA,eAIA,gpBAQA,4IAUAC,sDAGAC,kKACAjI,+CAIA,IAAAkI,EAAA/G,oEAEA,mDAEA,iEAEA,uBAEAgH,sBACA,mFAGAC,sCACAA,mBAEAH,WALA9I,KAAA,SAAAC,iBAOA,gEAKA,qBAHA,eACA,qBACA,qCAGAwD,0BACAA,QATA,IAAAyF,GAAA,8EAUA,IAAA3J,EAAAC,EAAAC,wCACAF,qLAIA,qEAEA,wDAEA4J,0EAIA,qEAEA,wDAEAA,iJAKAvJ,gDAGA,mCACA6D,yCAIA,cACArD,kEAKAoF,+DAGAA,8CAGA4D,wBACAC,4CACAvJ,qCACAD,8QAcA4E,sHAGAlF,0CAGAkE,qGACA,IAAA6F,EAAA9I,EAAAf,uGAMA8J,yCAFA,8PAgBA,wBAEAT,gCAEAvJ,QACA,4CAEA,EAEA,UACA,kEAEA,EAEA,UACA,kEAEA,EAEA,UACA,kEAEA,EAEA,qBAEA,+IAYAiK,6GAKAC,WAEAD,4CAIAxH,qCAGA0H,uBAEAC,oCAGAC,wCAIA,QACAA,oBAEA,6BAGA,QACAA,wFAGA,gDAOA,OCxUAC,GADiB1G,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BS,YAAA,SAAAC,OAA4B6F,cAAA1G,EAAA2G,cAA+BxG,EAAA,WAAgBgB,OAAOyF,MAAA5G,EAAAyF,UAAoBtF,EAAA,UAAe0G,aAAa1D,MAAA,SAAA2D,OAAA,QAAiC3F,OAAQ4F,OAAA,GAAAlE,KAAA,OAAAmE,QAAA,YAA8C7G,EAAA,UAAegB,OAAOoB,KAAA,KAAUpC,EAAA,gBAAAA,EAAA,kBAA0CgB,OAAO8F,YAAA,WAAwBjG,IAAKkG,WAAAlH,EAAAmH,cAA8BP,OAAQvK,MAAA2D,EAAAyF,OAAA,OAAA2B,SAAA,SAAAC,GAAmDrH,EAAAsH,KAAAtH,EAAAyF,OAAA,SAAA4B,IAAoC1G,WAAA,oBAA6B,OAAAR,EAAA,UAAuBgB,OAAOoB,KAAA,KAAUpC,EAAA,gBAAqB0G,aAAaU,aAAA,YAAuBpH,EAAA,QAAaS,YAAA,WAAAI,IAA2BC,MAAAjB,EAAAwH,gBAA0BxH,EAAAuB,GAAA,aAAApB,EAAA,UAAmCgB,OAAOoB,KAAA,KAAUpC,EAAA,gBAAAA,EAAA,kBAA0CgB,OAAO8F,YAAA,WAAwBjG,IAAKkG,WAAAlH,EAAAyH,cAA8Bb,OAAQvK,MAAA2D,EAAAyF,OAAA,OAAA2B,SAAA,SAAAC,GAAmDrH,EAAAsH,KAAAtH,EAAAyF,OAAA,SAAA4B,IAAoC1G,WAAA,oBAA6B,OAAAR,EAAA,UAAuBgB,OAAOoB,KAAA,KAAUpC,EAAA,gBAAAA,EAAA,kBAA0CgB,OAAO0B,KAAA,OAAAoE,YAAA,OAAAS,eAAA,cAA+Dd,OAAQvK,MAAA2D,EAAAyF,OAAA,QAAA2B,SAAA,SAAAC,GAAoDrH,EAAAsH,KAAAtH,EAAAyF,OAAA,UAAA4B,IAAqC1G,WAAA,qBAA8B,OAAAR,EAAA,UAAuBgB,OAAOoB,KAAA,KAAUpC,EAAA,gBAAAA,EAAA,aAAqCgB,OAAO0B,KAAA,UAAAU,KAAA,UAAiCvC,IAAKC,MAAAjB,EAAA2H,gBAA0B3H,EAAAuB,GAAA,8BAAApB,EAAA,WAAqDS,YAAA,YAAAC,OAA+B+G,gBAAA5H,EAAA6H,gBAAmC1H,EAAA,WAAgB2H,IAAA,aAAA3G,OAAwByF,MAAA5G,EAAA+H,cAAwB5H,EAAA,UAAegB,OAAO4F,OAAA,MAAa5G,EAAA,UAAegB,OAAOoB,KAAA,KAAUpC,EAAA,aAAkBgB,OAAO6G,WAAA,aAAAC,SAAA,WAAAhB,YAAA,OAAA1D,KAAA,SAAoFvC,IAAKkH,OAAAlI,EAAAmI,WAAuBvB,OAAQvK,MAAA2D,EAAAoI,WAAA,QAAAhB,SAAA,SAAAC,GAAwDrH,EAAAsH,KAAAtH,EAAAoI,WAAA,UAAAf,IAAyC1G,WAAA,uBAAkCX,EAAAmC,GAAAnC,EAAA+H,WAAA,iBAAA3F,GAAgD,OAAAjC,EAAA,aAAuBkI,IAAAjG,EAAA/F,MAAA8E,OAAsB9E,MAAA+F,EAAA/F,MAAAiM,MAAAlG,EAAAkG,aAAyC,GAAAnI,EAAA,UAAoBgB,OAAOoB,KAAA,KAAUpC,EAAA,aAAkBgB,OAAO6G,WAAA,aAAAC,SAAA,WAAAhB,YAAA,OAAA1D,KAAA,SAAoFvC,IAAKkH,OAAAlI,EAAAmI,WAAuBvB,OAAQvK,MAAA2D,EAAAoI,WAAA,QAAAhB,SAAA,SAAAC,GAAwDrH,EAAAsH,KAAAtH,EAAAoI,WAAA,UAAAf,IAAyC1G,WAAA,uBAAkCX,EAAAmC,GAAAnC,EAAA+H,WAAA,iBAAA3F,GAAgD,OAAAjC,EAAA,aAAuBkI,IAAAjG,EAAAjB,OAAgB9E,MAAA+F,EAAAkG,MAAAtI,EAAAxD,QAAAiF,IAAAW,UAA8C,GAAAjC,EAAA,UAAoBgB,OAAOoB,KAAA,KAAUpC,EAAA,aAAkBgB,OAAO6G,WAAA,aAAAC,SAAA,WAAAhB,YAAA,KAAA1D,KAAA,SAAkFvC,IAAKkH,OAAAlI,EAAAmI,WAAuBvB,OAAQvK,MAAA2D,EAAAoI,WAAA,SAAAhB,SAAA,SAAAC,GAAyDrH,EAAAsH,KAAAtH,EAAAoI,WAAA,WAAAf,IAA0C1G,WAAA,wBAAmCX,EAAAmC,GAAAnC,EAAA+H,WAAA,kBAAA3F,GAAiD,OAAAjC,EAAA,aAAuBkI,IAAAjG,EAAA/F,MAAA8E,OAAsB9E,MAAA+F,EAAA/F,MAAAiM,MAAAlG,EAAAkG,aAAyC,eAAAtI,EAAA,QAAAG,EAAA,OAA2CK,aAAaC,KAAA,UAAAC,QAAA,YAAArE,MAAA2D,EAAA,QAAAW,WAAA,YAA4EC,YAAA,gBAAAO,OAAqCoH,uBAAA,mBAAwCpI,EAAA,OAAYS,YAAA,cAAwBZ,EAAAwI,iBAAAjI,OAAA,EAAAJ,EAAA,OAA8CS,YAAA,iBAA2BZ,EAAAmC,GAAAnC,EAAA,0BAAAoC,EAAAqG,GAAqD,OAAAtI,EAAA,eAA0BgB,OAAOE,YAAAe,EAAA/B,QAAAL,EAAA0I,aAAAtG,EAAAnF,WAA2D,UAAA+C,EAAAqB,aAAA,OAAArB,EAAAK,QAAAF,EAAA,OAAmE0G,aAAa8B,OAAA,QAAAC,mBAAA,QAAAC,cAAA,WAAmE1I,EAAA,KAAU0G,aAAaU,aAAA,SAAAT,OAAA,SAAAgC,cAAA,YAAAC,YAAA,OAAAC,MAAA,SAAsGhJ,EAAAuB,GAAA,kBAAAvB,EAAAqB,YAAAd,OAAA,OAAAP,EAAAwI,iBAAAjI,OAAAJ,EAAA,OAAuG0G,aAAa8B,OAAA,QAAAC,mBAAA,QAAAC,cAAA,WAAmE1I,EAAA,KAAU0G,aAAaU,aAAA,SAAAT,OAAA,SAAAgC,cAAA,YAAAC,YAAA,OAAAC,MAAA,SAAsGhJ,EAAAuB,GAAA,iBAAAvB,EAAA8B,QAAA,IAEx9H4B,oBCCjB,IAcAC,EAdAlI,EAAA,OAcAmI,CACA0B,EACAmB,GATA,EAVA,SAAA5C,GACApI,EAAA,SAaA,kBAEA,MAUAqI,EAAA,QAAAH,EAAA,8BC1BA,IAAAnI,EAAAC,EAAA,QACAwN,EAAAxN,EAAA,QACAyN,EAAAzN,EAAA,QACA0N,EAAA1N,EAAA,QACA2N,EAAA,IAAAD,EAAA,IAEAE,EAAAC,OAAA,IAAAF,IAAA,KACAG,EAAAD,OAAAF,IAAA,MAEAI,EAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAC,KACAC,EAAAX,EAAA,WACA,QAAAC,EAAAM,MAPA,WAOAA,OAEAK,EAAAF,EAAAH,GAAAI,EAAAH,EAAA1F,GAAAmF,EAAAM,GACAE,IAAAC,EAAAD,GAAAG,GACAtO,IAAAuO,EAAAvO,EAAAI,EAAAiO,EAAA,SAAAD,IAMA5F,EAAAwF,EAAAxF,KAAA,SAAAO,EAAAyF,GAIA,OAHAzF,EAAAC,OAAAyE,EAAA1E,IACA,EAAAyF,IAAAzF,IAAA0F,QAAAZ,EAAA,KACA,EAAAW,IAAAzF,IAAA0F,QAAAV,EAAA,KACAhF,GAGAJ,EAAAC,QAAAoF,wBC7BA/N,EAAA,QACA0I,EAAAC,QAAAtI,iCCDAqI,EAAAC,SAAkBQ,QAAAnJ,EAAA,QAAAoJ,YAAA","file":"static/js/1.976361c68e1259dbf34d.js","sourcesContent":["var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.parse-int.js\n// module id = 8sHD\n// module chunks = 1 2","<template lang='pug'>\r\n    div(v-if='ow_data.cabins.length > 0', v-loading='loading')\r\n        .airfly(:class='{\"actived\": show}')\r\n            .airfly__card(@click='showExtends', :class='{\"useable\": ow_data.cabins.length <= 0}')\r\n                .airfly__card_name\r\n                    .c-company\r\n                        .flight-type\r\n                            span.logo\r\n                                img(:src='flight_data.logo')\r\n                            span.title\r\n                                |{{airline.get(flight_data.airline)}}\r\n                        .c-company__detail\r\n                            span {{flight_data.no}}\r\n                            span 型号{{flight_data.plane}}\r\n                            span.shared(v-if='flight_data.shared')\r\n                                el-tooltip.item(effect='dark', :content=\"'实际乘坐: ' + airline.get(flight_data.operatingNo.substr(0, 2)) + flight_data.operatingNo\", placement='bottom-start')\r\n                                    span 共享\r\n                .airfly__card_time\r\n                    .sep-lf\r\n                        h2 {{flight_data.departTime}}\r\n                        p {{flight_data.departPort}}{{flight_data.departTerminal}}\r\n                    .sep-ct\r\n                        .range {{flight_data.flightTime}}\r\n                        .line\r\n                        p.nonstop(v-if='flight_data.nonstop') 非直达\r\n                    .sep-rt\r\n                        h2 {{flight_data.arriveTime}}\r\n                        p {{flight_data.arrivePort}}{{flight_data.arriveTerminal}}\r\n                .airfly__card_price\r\n                    p.prc\r\n                        span.rmb ￥\r\n                        span.data {{minPrice}}\r\n                    .vim\r\n                        span.dis 此价格不包括詹姆士补贴\r\n            el-collapse-transition\r\n                .airfly__extends(v-show='show')\r\n                    .airfly__extends_list\r\n                        .c-triangle\r\n                        .flight-info(v-if='stock === \"A\" || stock > 0')\r\n                            .flight-info__list\r\n                                ul\r\n                                    li 准点率 {{flight_data.onTimeRate}}\r\n                                    li(v-if='flight_data.meals===\"B\"') 餐食：早餐\r\n                                    li(v-else-if='flight_data.meals===\"D\"') 餐食：正餐\r\n                                    li(v-else-if='flight_data.meals===\"M\"') 餐食：轻正餐\r\n                                    li(v-else-if='flight_data.meals===\"S\"') 餐食：点心餐\r\n                                    li(v-else-if='flight_data.meals===\"R\"') 餐食：快餐\r\n                                    li(v-else-if='flight_data.meals!==null') 有餐食{{flight_data.meals}}\r\n                                    li(v-else) 无餐食\r\n                                    li 以下价格不包括机建燃油费\r\n                            .flight-info__order\r\n                                .order__card\r\n                                    .order__card_col(v-for='item in ow_data.cabins', v-if='item.stock > 0 || item.stock === \"A\"')\r\n                                        .col-agent\r\n                                            span(v-if='item.level===\"Y\"') 经济\r\n                                            span(v-else-if='item.level===\"F\"') 头等\r\n                                            span(v-else='item.level===\"C\"') 商务\r\n                                            span {{item.cabin}}舱\r\n                                        .col-center\r\n                                            .col-center__tag\r\n                                                .col-center__tag_tips\r\n                                                    span(@click='remarkRule(item.cabin)') 退改签\r\n                                                //- .col-center__tag_tips(v-if='flight_data.nonstop')\r\n                                                //-     span(@click='transitMsg') 经停站信息\r\n                                            .col-center__prc\r\n                                                el-row\r\n                                                    el-col(:span='6')\r\n                                                        span.col-center__prc_logo ￥\r\n                                                        span.col-center__prc_prc {{Math.ceil(item.salePrices[0].price)}}\r\n                                                    //- el-col(:span='5')\r\n                                                    //-     span.col-center__prc_ret 返现：￥{{item.minParPrice-item.salePrices[0].price | formatRet}}\r\n                                                    el-col(:span='6')\r\n                                                        span.col-center__prc_discount 折扣:{{item.salePrices[0].discount | formatDis}}\r\n                                                    el-col(:span='6')\r\n                                                        span.col-center__prc_stock 余票:{{item.stock === \"A\" ? \"余票充足\" : item.stock}}\r\n                                        .col-book\r\n                                            template(v-if='buyOrRscd === 0')\r\n                                                el-button(type='success', @click='orderTicket(item)') 预定\r\n                                            template(v-if='buyOrRscd === 1')\r\n                                                el-button(type='success', @click='reschedule(item)') 改签\r\n                        .flight-info__else(v-else)\r\n                            p 没有余票\r\n        el-dialog(title='退改签规则', :visible.sync='dialogRemarkRule', width='30%')\r\n            p(v-loading='dialogRemarkLoading') {{remarkRuleMessage}}\r\n            span(slot='footer')\r\n                el-button(type='primary', size='small', @click='dialogRemarkRule = false') 确定\r\n        el-dialog(title='经停站信息', :visible.sync='dialogTransit', width='30%')\r\n            p(v-loading='dialogTransitLoading') {{transitMessage}}\r\n            span(slot='footer')\r\n                el-button(type='primary', size='small', @click='dialogTransit = false') 确定\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            loading: false,\r\n            show: false,\r\n            all_space: true,\r\n            airline: '',\r\n            stock: 0,\r\n            dialogRemarkRule: false,\r\n            dialogRemarkLoading: false,\r\n            remarkRuleMessage: '',\r\n            dialogTransit: false,\r\n            dialogTransitLoading: false,\r\n            transitMessage: ''\r\n        }\r\n    },\r\n    props: {\r\n        flight_data: Object,\r\n        ow_data: Object,\r\n        buyOrRscd: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        rescheduleData: Array,\r\n        rscdId: {\r\n            type: Number,\r\n            required: false\r\n        }\r\n    },\r\n    computed: {\r\n        minPrice () { // 展示最低价格\r\n            let price = this.ow_data.cabins[0].salePrices[0].price\r\n            for (let i of this.ow_data.cabins) {\r\n                if (price > i.salePrices[0].price) {\r\n                    price = i.salePrices[0].price\r\n                }\r\n            }\r\n            return Math.ceil(price)\r\n        }\r\n    },\r\n    filters: {\r\n        formatDis (value) {\r\n            return Math.round(value * 100) / 100\r\n        },\r\n        formatRet (value) {\r\n            return Number.parseInt(value)\r\n        }\r\n    },\r\n    methods: {\r\n        showExtends () { // 如果筛选过后没有仓位，不显示该航班\r\n            if (this.ow_data.cabins.length > 0) {\r\n                this.show = !this.show\r\n            }\r\n        },\r\n        remarkRule (cabin) { // 显示改签规则\r\n            this.dialogRemarkRule = true\r\n            this.dialogRemarkLoading = true\r\n            this.$http.post('/orders/dps/policy', {\r\n                departDate: this.flight_data.departDate,\r\n                airlineCode: this.flight_data.airline,\r\n                depart: this.flight_data.depart,\r\n                arrive: this.flight_data.arrive,\r\n                cabin: cabin\r\n            }).then((res) => {\r\n                let s = res.data.cancelTicketDes + '\\r\\n' + res.data.changeTicketDes + '\\r\\n' + res.data.refundTicketDes\r\n                this.remarkRuleMessage = s\r\n                this.dialogRemarkLoading = false\r\n            }).catch((error) => {\r\n                console.log(error)\r\n            })\r\n        },\r\n        transitMsg () { // 显示经停站信息\r\n            this.dialogTransit = true\r\n            this.dialogTransitLoading = true\r\n            this.$http.post('/orders/dps/stopinfo', {\r\n                departDate: this.flight_data.departDate,\r\n                flightNo: this.flight_data.shared ? this.flight_data.operatingNo : this.flight_data.no\r\n            }).then(res => {\r\n                console.log(res.data.flightLegBriefs)\r\n                for (let i of res.data.flightLegBriefs) {\r\n                    // this.transitMessage += i.departureAirport\r\n                    this.transitMessage = this.airline.get(i.departureAirport)\r\n                    console.log(this.airline)\r\n                    console.log(this.airline.get(i.departureAirport))\r\n                }\r\n                this.dialogTransitLoading = false\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n        },\r\n        orderTicket (item) { // 订票\r\n            let time = new Date(this.flight_data.departDate)\r\n            let theprice = null\r\n            if (item.level.toUpperCase() === 'Y') {\r\n                theprice = this.flight_data.yprice\r\n            } else if (item.level.toUpperCase() === 'F') {\r\n                theprice = this.flight_data.fprice\r\n            } else if (item.level.toUpperCase() === 'C') {\r\n                theprice = this.flight_data.cprice\r\n            }\r\n            let cardObj = {\r\n                departDate: time.getFullYear() + '-' + (time.getMonth() + 1) + '-' + time.getDate(),\r\n                departCityName: this.flight_data.departPort.substr(0, 2),\r\n                arriveCityName: this.flight_data.arrivePort.substr(0, 2),\r\n                airline: this.airline.get(this.flight_data.airline),\r\n                no: this.flight_data.no,\r\n                cabin: item.cabin,\r\n                level: item.level,\r\n                departTime: this.flight_data.departTime,\r\n                arriveTime: this.flight_data.arriveTime,\r\n                departPort: this.flight_data.departPort + (this.flight_data.departTerminal ? this.flight_data.departTerminal : ''),\r\n                arrivePort: this.flight_data.arrivePort + (this.flight_data.arriveTerminal ? this.flight_data.arriveTerminal : ''),\r\n                flightTime: this.flight_data.flightTime,\r\n                stock: item.stock,\r\n                price: {\r\n                    'policyId': item.salePrices[0].policyId, // 7;产品ID,在选中的航班中有该数据;\r\n                    'ageType': '', // 8;年龄类型 成人ADT 儿童CHD 婴儿INF\r\n                    'cabin': item.cabin, // 9;舱位\r\n                    'fdPrice': item.fdPrice, // 10;展示价格\r\n                    'sequence': 1,\r\n                    'fuelFee': this.flight_data.fuelFee,\r\n                    'taxFee': this.flight_data.taxFee,\r\n                    // 'yprice': this.flight_data.yprice,\r\n                    // 'cprice': this.flight_data.cprice,\r\n                    // 'fprice': this.flight_data.fprice,\r\n                    'theprice': theprice,\r\n                    // 'minParPrice': item.minParPrice,\r\n                    'minSalePrice': item.salePrices[0].price\r\n                },\r\n                policys: [{\r\n                    'airDate': (this.flight_data.departDate).substr(0, 10) + ' ' + this.flight_data.departTime.substr(0, 5) + ':00',\r\n                    'airDateStr': (this.flight_data.departDate).substr(0, 10) + ' ' + this.flight_data.departTime.substr(0, 5) + ':00',\r\n                    'arrive': this.flight_data.arrive,\r\n                    'cabin': item.cabin,\r\n                    'depart': this.flight_data.depart,\r\n                    'departDate': (this.flight_data.departDate).substr(0, 10) + ' ' + this.flight_data.departTime + ':00',\r\n                    'departDateStr': (this.flight_data.departDate).substr(0, 10) + ' ' + this.flight_data.departTime + ':00',\r\n                    'discount': item.salePrices[0].discount + '',\r\n                    'fdPrice': item.fdPrice + '',\r\n                    'flightNo': this.flight_data.no,\r\n                    'fuelFare': this.flight_data.fuelFee + '',\r\n                    'fuelFareStr': this.flight_data.fuelFee + '',\r\n                    'operatingNo': this.flight_data.operatingNo,\r\n                    'shared': this.flight_data.shared,\r\n                    'taxFee': this.flight_data.taxFee + '',\r\n                    'taxFeeStr': this.flight_data.taxFee + ''\r\n                }]\r\n            }\r\n            let orderObj = {\r\n                name: '',\r\n                phone: '',\r\n                user_id: '',\r\n                flights: [\r\n                    {\r\n                        airline: this.flight_data.airline,\r\n                        depart: this.flight_data.depart, // 3;起点三字码\r\n                        arrive: this.flight_data.arrive, // 4;终点三字码\r\n                        departTerminal: this.flight_data.departTerminal ? this.flight_data.departTerminal : '',\r\n                        arriveTerminal: this.flight_data.arriveTerminal ? this.flight_data.arriveTerminal : '',\r\n                        departTime: this.flight_data.departTime,\r\n                        arriveTime: this.flight_data.arriveTime,\r\n                        departDate: (this.flight_data.departDate).substr(0, 10) + ' ' + this.flight_data.departTime + ':00', // 5;起飞时间:'2018-02-09 00:00:00'\r\n                        flightNo: this.flight_data.no, // 6;飞机航班号:'MU2862'\r\n                        factFlightNo: this.flight_data.operatingNo,\r\n                        flightTime: this.flight_data.flightTime,\r\n                        serviceLevel: item.level,\r\n                        cabin: item.cabin,\r\n                        meals: this.flight_data.meals,\r\n                        plane: this.flight_data.plane,\r\n                        onTimeRate: this.flight_data.onTimeRate,\r\n                        nonstop: this.flight_data.nonstop,\r\n                        sequence: 1\r\n                    }\r\n                ],\r\n                prices: [\r\n                    {\r\n                        policyId: item.salePrices[0].policyId, // 7;产品ID,在选中的航班中有该数据;\r\n                        ageType: '', // 8;年龄类型 成人ADT 儿童CHD 婴儿INF\r\n                        cabin: item.cabin, // 9;舱位\r\n                        fdPrice: item.fdPrice, // 10;展示价格\r\n                        sequence: 1,\r\n                        fuelFee: this.flight_data.fuelFee,\r\n                        taxFee: this.flight_data.taxFee,\r\n                        buyPrice: item.salePrices[0].buyPrice,\r\n                        parPrice: item.salePrices[0].parPrice,\r\n                        salePrice: item.salePrices[0].price,\r\n                        serviceLevel: item.level,\r\n                        originPrice: theprice,\r\n                        discount: item.salePrices[0].discount,\r\n                        sign: item.salePrices[0].sign\r\n                    }\r\n                ],\r\n                travelers: []\r\n            }\r\n            // console.log('orderdata:', orderObj)\r\n            this.$router.push({path: '/flightOrder', query: {orderObj: encodeURIComponent(JSON.stringify(orderObj)), cardObj: encodeURIComponent(JSON.stringify(cardObj))}})\r\n            // this.$router.push({path: '/flightOrder', query: {orderObj: JSON.stringify(orderObj), cardObj: JSON.stringify(cardObj)}})\r\n        },\r\n        reschedule (item) { // 改签\r\n            let arr = []\r\n            this.loading = true\r\n            for (let i of this.rescheduleData) {\r\n                let o = {}\r\n                o.origContact = i.origContact\r\n                o.newContact = i.newContact\r\n                o.origFlight = i.origFlight\r\n                o.newFlight = {\r\n                    depart: this.flight_data.depart,\r\n                    arrive: this.flight_data.arrive,\r\n                    departDate: this.flight_data.departDate,\r\n                    flightNo: this.flight_data.no,\r\n                    sequence: 1,\r\n                    arriveTerminal: this.flight_data.arriveTerminal,\r\n                    departTerminal: this.flight_data.departTerminal,\r\n                    arriveTime: this.flight_data.arriveTime,\r\n                    departTime: this.flight_data.departTime,\r\n                    cabin: item.cabin,\r\n                    factFlightNo: this.flight_data.operatingNo,\r\n                    meals: this.flight_data.meals,\r\n                    serviceLevel: item.level,\r\n                    plane: this.flight_data.plane,\r\n                    onTimeRate: this.flight_data.onTimeRate,\r\n                    flightTime: this.flight_data.flightTime,\r\n                    airline: this.flight_data.airline,\r\n                    nonstop: this.flight_data.nonstop\r\n                }\r\n                arr.push(o)\r\n            }\r\n            this.$http.post('/orders/dps/change/' + this.rscdId, {\r\n                items: arr\r\n            }).then(res => {\r\n                this.loading = false\r\n                if (res.status >= 200 && res.status < 300) {\r\n                    this.$message.success('改签成功')\r\n                    this.$router.replace('/order')\r\n                } else {\r\n                    this.$message.error(res.data.message)\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('改签失败')\r\n                this.loading = false\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n    created () {\r\n        let airline = new Map([['3U', '四川航空'], ['8L', '祥鹏航空'], ['9C', '春秋航空'], ['9H', '长安航空'], ['A6', '红土航空'], ['BK', '奥凯航空'], ['CA', '中国航空'], ['CN', '大新华航'], ['CZ', '南方航空'], ['DR', '瑞丽航空'], ['DZ', '东海航空'], ['EU', '成都航空'], ['FM', '上海航空'], ['FU', '福州航空'], ['G5', '华夏航空'], ['GJ', '长龙航空'], ['GS', '天津航空'], ['GT', '桂林航空'], ['GX', '北部弯航空'], ['GY', '多彩贵州航空'], ['HO', '吉祥航空'], ['HU', '海南航空'], ['JD', '首都航空'], ['JR', '幸福航空'], ['KN', '中联航空'], ['KY', '昆明航空'], ['LT', '龙江航空'], ['MF', '厦门航空'], ['MU', '东方航空'], ['NS', '河北航空'], ['OQ', '重庆航空'], ['PN', '西部航空'], ['QW', '青岛航空'], ['RY', '江西航空'], ['SC', '山东航空'], ['TV', '西藏航空'], ['UQ', '乌鲁木齐航空'], ['Y8', '扬子江快运航空'], ['YI', '英安航空'], ['ZH', '深圳航空']])\r\n        this.airline = airline\r\n        for (let item in this.ow_data.cabins) {\r\n            if (this.ow_data.cabins[item].stock === 'A') {\r\n                this.stock = 'A'\r\n                break\r\n            }\r\n            if (this.ow_data.cabins[item].stock > 0) {\r\n                this.stock += parseInt(this.ow_data.cabins[item].stock)\r\n            }\r\n        }\r\n    },\r\n    beforeDestory () {\r\n        console.log('im going to end')\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .airfly {\r\n        border-bottom: 1px solid rgb(207, 207, 207);\r\n        background-color: #fff;\r\n    }\r\n    .airfly.actived {\r\n        margin: 10px 0;\r\n        position: relative;\r\n        box-shadow: 0 0 15px rgba(0,0,0,.2);\r\n    }\r\n    .airfly__card.useable {\r\n        cursor: not-allowed;\r\n        background-color: #C0C4CC;\r\n    }\r\n    .airfly:hover {\r\n        position: relative;\r\n        box-shadow: 0 0 15px rgba(0,0,0,.2);\r\n    }\r\n    .airfly__card {\r\n        box-sizing: border-box;\r\n        background-color: #fbfbfb;\r\n        height: 100px;\r\n        width: 1000px;\r\n        padding: 25px 30px 15px 15px;\r\n        /* margin-bottom: 10px; */\r\n        display: flex;\r\n        /* justify-content: space-between; */\r\n        cursor: pointer;\r\n    }\r\n    .airfly__card:focus {\r\n        outline: -webkit-focus-ring-color auto 5px;\r\n    }\r\n    /* .c-company----------------------------------- */\r\n    .c-company > .flight-type > span {\r\n        display: inline-block;\r\n    }\r\n    .c-company > .flight-type > .logo {\r\n        width: 34px;\r\n    }\r\n    .c-company > .flight-type > .title {\r\n        font-size: 16px;\r\n        height: 24px;\r\n        margin-bottom: 3px;\r\n    }\r\n    .c-company > .c-company__detail {\r\n        padding: 0 0 3px 34px;\r\n        color: #888;\r\n    }\r\n    .c-company > .c-company__detail > span {\r\n        padding-right: 4px;\r\n        display: inline-block;\r\n    }\r\n    .c-company__detail > span.shared {\r\n        color: #46d2a9\r\n    }\r\n    .airfly__card_name {\r\n        width: 300px;\r\n    }\r\n    /* .airfly__card_time----------------------------------- */\r\n    .airfly__card_time {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-size: 12px;\r\n        width: 500px;\r\n    }\r\n    .airfly__card_time > .sep-lf, .airfly__card_time > .sep-rt {\r\n        width: 190px;\r\n        text-align: center;\r\n    }\r\n    .airfly__card_time > .sep-lf > h2, .airfly__card_time > .sep-rt > h2 {\r\n        font-size: 25px;\r\n    }\r\n    .airfly__card_time > .sep-ct {\r\n        color: #888;\r\n        width: 120px;\r\n        text-align: center;\r\n        margin: 0 23px;\r\n    }\r\n    .airfly__card_time > .sep-ct > .range {\r\n        height: 20px;\r\n    }\r\n    .airfly__card_time > .sep-ct > .line {\r\n        border-bottom: 1px solid #dfdfdf;\r\n    }\r\n    .airfly__card_time > .sep-ct > .line::after {\r\n        content: '';\r\n        border-bottom: 1px solid #dfdfdf;\r\n        width: 8px;\r\n        float: right;\r\n        margin-top: -2px;\r\n        transform: rotate(30deg);\r\n    }\r\n    .airfly__card_time > .sep-ct > .nonstop {\r\n        margin-top: 5px;\r\n        color: red;\r\n    }\r\n    /* .airfly__card_price----------------------------------- */\r\n    .airfly__card_price {\r\n        color: #ff8205;\r\n        vertical-align: middle;\r\n        margin-top: -10px;\r\n        width: 200px;\r\n        text-align: right;\r\n    }\r\n    .airfly__card_price > .prc {\r\n        font-size: 30px;\r\n    }\r\n    .airfly__card_price > .prc > .rmb {\r\n        font-size: 16px;\r\n        font-family: Arial;\r\n    }\r\n    .airfly__card_price > .vim > .dis {\r\n        color: #888;\r\n        float: right;\r\n        font-size: 15px;\r\n    }\r\n    /* .airfly__extends-------------------------------------- */\r\n    .airfly__extends_list {\r\n        border-top: 1px solid #cfcfcf;\r\n    }\r\n    .c-triangle {\r\n        width: 0;\r\n        height: 0;\r\n        border-left: 10px solid transparent;\r\n        border-right: 10px solid transparent;\r\n        border-bottom: 10px solid #cfcfcf;\r\n        float: right;\r\n        margin: -10px 33px 0 0;\r\n    }\r\n    .c-triangle > p {\r\n        width: 0;\r\n        height: 0;\r\n        border-left: 10px solid transparent;\r\n        border-right: 10px solid transparent;\r\n        border-bottom: 10px solid #f6f6f6;\r\n        /* border-bottom: 10px solid #fdfdfd; */\r\n        margin: 1px 0 0 -10px;\r\n    }\r\n    .flight-type {\r\n        padding: 5px 0;\r\n        /* background: #fdfdfd; */\r\n    }\r\n    .flight-type > ul.tab {\r\n        height: 30px;\r\n        line-height: 30px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n    }\r\n    .flight-type > ul.tab > li {\r\n        display: inline;\r\n        margin: 0 20px;\r\n        cursor: pointer;\r\n        padding: 2px;\r\n    }\r\n    .flight-type > ul.tab > li.cur {\r\n        color: #40bad6;\r\n        border-bottom: 2px solid #40bad6;\r\n        cursor: default;\r\n    }\r\n    .flight-info__list {\r\n        height: 36px;\r\n        padding: 0 30px;\r\n        line-height: 36px;\r\n        border-bottom: 1px solid #e1e1e1;\r\n        background: #f6f6f6;\r\n        clear: both;\r\n    }\r\n    .flight-info__list > ul {\r\n        float: right;\r\n        width: 48%;\r\n        color: #555;\r\n        text-align: right;\r\n    }\r\n    .flight-info__list > ul > li {\r\n        display: inline;\r\n        padding-left: 18px;\r\n    }\r\n    .flight-info__else {\r\n        height: 50px;\r\n        background: #f6f6f6;\r\n    }\r\n    .flight-info__else > p {\r\n        font-size: 20px;\r\n        text-align: center;\r\n        padding-top: 10px;\r\n    }\r\n    .flight-info__order {\r\n        background: #fdfdfd;\r\n    }\r\n    .flight-info__order > .order__card {\r\n        padding: 0 30px;\r\n        cursor: pointer;\r\n    }\r\n    .flight-info__order > .order__card > .order__card_col {\r\n        border-bottom: 1px solid #ebebeb;\r\n        padding: 11px 0;\r\n        line-height: 30px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .col-agent {\r\n        min-height: 1px;\r\n        width: 150px;\r\n        color: #555;\r\n        font-size: 16px;\r\n    }\r\n    .col-center {\r\n        width: 650px;\r\n        display: flex;\r\n        justify-content: space-between\r\n    }\r\n    .col-center > span {\r\n        font-size: 16px;\r\n    }\r\n    .col-center__tag {\r\n        width: 250px;\r\n    }\r\n    .col-center > .col-center__tag > .col-center__tag_tips {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        color: #40bad6;\r\n        margin-right: 10px;\r\n    }\r\n    .col-center > .col-center__prc {\r\n        color: #bd1900;\r\n        width: 400px;\r\n        font-size: 24px;\r\n    }\r\n    .col-center__prc_logo {\r\n        font-size: 16px;\r\n    }\r\n    .col-center__prc_stock, .col-center__prc_discount, .col-center__prc_ret {\r\n        color: black;\r\n        font-size: 14px;\r\n    }\r\n    .col-book > button {\r\n        padding: 6px 20px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/flight/FlightCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ow_data.cabins.length > 0)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"airfly\",class:{\"actived\": _vm.show}},[_c('div',{staticClass:\"airfly__card\",class:{\"useable\": _vm.ow_data.cabins.length <= 0},on:{\"click\":_vm.showExtends}},[_c('div',{staticClass:\"airfly__card_name\"},[_c('div',{staticClass:\"c-company\"},[_c('div',{staticClass:\"flight-type\"},[_c('span',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":_vm.flight_data.logo}})]),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.airline.get(_vm.flight_data.airline)))])]),_c('div',{staticClass:\"c-company__detail\"},[_c('span',[_vm._v(_vm._s(_vm.flight_data.no))]),_c('span',[_vm._v(\"型号\"+_vm._s(_vm.flight_data.plane))]),(_vm.flight_data.shared)?_c('span',{staticClass:\"shared\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":'实际乘坐: ' + _vm.airline.get(_vm.flight_data.operatingNo.substr(0, 2)) + _vm.flight_data.operatingNo,\"placement\":\"bottom-start\"}},[_c('span',[_vm._v(\"共享\")])])],1):_vm._e()])])]),_c('div',{staticClass:\"airfly__card_time\"},[_c('div',{staticClass:\"sep-lf\"},[_c('h2',[_vm._v(_vm._s(_vm.flight_data.departTime))]),_c('p',[_vm._v(_vm._s(_vm.flight_data.departPort)+_vm._s(_vm.flight_data.departTerminal))])]),_c('div',{staticClass:\"sep-ct\"},[_c('div',{staticClass:\"range\"},[_vm._v(_vm._s(_vm.flight_data.flightTime))]),_c('div',{staticClass:\"line\"}),(_vm.flight_data.nonstop)?_c('p',{staticClass:\"nonstop\"},[_vm._v(\"非直达\")]):_vm._e()]),_c('div',{staticClass:\"sep-rt\"},[_c('h2',[_vm._v(_vm._s(_vm.flight_data.arriveTime))]),_c('p',[_vm._v(_vm._s(_vm.flight_data.arrivePort)+_vm._s(_vm.flight_data.arriveTerminal))])])]),_c('div',{staticClass:\"airfly__card_price\"},[_c('p',{staticClass:\"prc\"},[_c('span',{staticClass:\"rmb\"},[_vm._v(\"￥\")]),_c('span',{staticClass:\"data\"},[_vm._v(_vm._s(_vm.minPrice))])]),_vm._m(0)])]),_c('el-collapse-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"airfly__extends\"},[_c('div',{staticClass:\"airfly__extends_list\"},[_c('div',{staticClass:\"c-triangle\"}),(_vm.stock === \"A\" || _vm.stock > 0)?_c('div',{staticClass:\"flight-info\"},[_c('div',{staticClass:\"flight-info__list\"},[_c('ul',[_c('li',[_vm._v(\"准点率 \"+_vm._s(_vm.flight_data.onTimeRate))]),(_vm.flight_data.meals===\"B\")?_c('li',[_vm._v(\"餐食：早餐\")]):(_vm.flight_data.meals===\"D\")?_c('li',[_vm._v(\"餐食：正餐\")]):(_vm.flight_data.meals===\"M\")?_c('li',[_vm._v(\"餐食：轻正餐\")]):(_vm.flight_data.meals===\"S\")?_c('li',[_vm._v(\"餐食：点心餐\")]):(_vm.flight_data.meals===\"R\")?_c('li',[_vm._v(\"餐食：快餐\")]):(_vm.flight_data.meals!==null)?_c('li',[_vm._v(\"有餐食\"+_vm._s(_vm.flight_data.meals))]):_c('li',[_vm._v(\"无餐食\")]),_c('li',[_vm._v(\"以下价格不包括机建燃油费\")])])]),_c('div',{staticClass:\"flight-info__order\"},[_c('div',{staticClass:\"order__card\"},_vm._l((_vm.ow_data.cabins),function(item){return (item.stock > 0 || item.stock === \"A\")?_c('div',{staticClass:\"order__card_col\"},[_c('div',{staticClass:\"col-agent\"},[(item.level===\"Y\")?_c('span',[_vm._v(\"经济\")]):(item.level===\"F\")?_c('span',[_vm._v(\"头等\")]):_c('span',[_vm._v(\"商务\")]),_c('span',[_vm._v(_vm._s(item.cabin)+\"舱\")])]),_c('div',{staticClass:\"col-center\"},[_c('div',{staticClass:\"col-center__tag\"},[_c('div',{staticClass:\"col-center__tag_tips\"},[_c('span',{on:{\"click\":function($event){_vm.remarkRule(item.cabin)}}},[_vm._v(\"退改签\")])])]),_c('div',{staticClass:\"col-center__prc\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('span',{staticClass:\"col-center__prc_logo\"},[_vm._v(\"￥\")]),_c('span',{staticClass:\"col-center__prc_prc\"},[_vm._v(_vm._s(Math.ceil(item.salePrices[0].price)))])]),_c('el-col',{attrs:{\"span\":6}},[_c('span',{staticClass:\"col-center__prc_discount\"},[_vm._v(\"折扣:\"+_vm._s(_vm._f(\"formatDis\")(item.salePrices[0].discount)))])]),_c('el-col',{attrs:{\"span\":6}},[_c('span',{staticClass:\"col-center__prc_stock\"},[_vm._v(\"余票:\"+_vm._s(item.stock === \"A\" ? \"余票充足\" : item.stock))])])],1)],1)]),_c('div',{staticClass:\"col-book\"},[(_vm.buyOrRscd === 0)?[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.orderTicket(item)}}},[_vm._v(\"预定\")])]:_vm._e(),(_vm.buyOrRscd === 1)?[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.reschedule(item)}}},[_vm._v(\"改签\")])]:_vm._e()],2)]):_vm._e()}))])]):_c('div',{staticClass:\"flight-info__else\"},[_c('p',[_vm._v(\"没有余票\")])])])])])],1),_c('el-dialog',{attrs:{\"title\":\"退改签规则\",\"visible\":_vm.dialogRemarkRule,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogRemarkRule=$event}}},[_c('p',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogRemarkLoading),expression:\"dialogRemarkLoading\"}]},[_vm._v(_vm._s(_vm.remarkRuleMessage))]),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogRemarkRule = false}}},[_vm._v(\"确定\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"经停站信息\",\"visible\":_vm.dialogTransit,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogTransit=$event}}},[_c('p',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogTransitLoading),expression:\"dialogTransitLoading\"}]},[_vm._v(_vm._s(_vm.transitMessage))]),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogTransit = false}}},[_vm._v(\"确定\")])],1)])],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vim\"},[_c('span',{staticClass:\"dis\"},[_vm._v(\"此价格不包括詹姆士补贴\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-721260b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/flight/FlightCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-721260b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FlightCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlightCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlightCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-721260b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FlightCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-721260b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/flight/FlightCard.vue\n// module id = null\n// module chunks = ","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_parse-int.js\n// module id = KpO7\n// module chunks = 1 2","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.reflect.own-keys.js\n// module id = LTVp\n// module chunks = 1 2","require('../../modules/es6.reflect.own-keys');\nmodule.exports = require('../../modules/_core').Reflect.ownKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/reflect/own-keys.js\n// module id = eWjm\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/number/parse-int\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/parse-int.js\n// module id = gBtx\n// module chunks = 1 2","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_own-keys.js\n// module id = hg2J\n// module chunks = 1 2","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-ws.js\n// module id = hyta\n// module chunks = 1 2","<template lang='pug'>\n    div\n        el-card.search(:class=\"{'search-hide': searchHide}\")\n            el-form(:model='flight')\n                el-row(:gutter='10', type='flex', justify='center', style='width: 1000px; margin: auto')\n                    el-col(:span='6')\n                        el-form-item\n                            flightCityCard(placeholder='输入城市/机场', v-model='flight.depart', @citySelect='departSelect')\n                    el-col(:span='1')\n                        el-form-item(style='text-align: center')\n                            span.exchange(@click='cityExchange') 换\n                    el-col(:span='6')\n                        el-form-item\n                            flightCityCard(placeholder='输入城市/机场', v-model='flight.arrive', @citySelect='arriveSelect')\n                    el-col(:span='6')\n                        el-form-item\n                            el-date-picker(type='date', v-model='flight.setTime', placeholder='出发日期', value-format=\"yyyy-MM-dd\")\n                    el-col(:span='2')\n                        el-form-item\n                            el-button(type='success', @click='flightSearch', size='medium') 重新搜索\n        el-card.screening(:class=\"{'screening-fix': screeningFix}\")\n            el-form(ref='flight_opt', :model='flight_opt')\n                el-row(:gutter='10')\n                    el-col(:span='8')\n                        el-select(v-model='flight_scn.setTime', filterable, multiple, placeholder='起飞时段', size='small', @change='screening')\n                            el-option(v-for='item in flight_opt.setTime', :value='item.value', :key='item.value', :label='item.label')\n                    el-col(:span='8')\n                        el-select(v-model='flight_scn.airline', filterable, multiple, placeholder='航空公司', size='small', @change='screening')\n                            el-option(v-for='item in flight_opt.airline', :value='item', :key='item', :label='airline.get(item)')\n                    //- el-col(:span='4')\n                    //-     el-select(v-model='flight_scn.depart', filterable, multiple, placeholder='起飞机场', size='small')\n                    //-         el-option(v-for='item in flight_opt.depart', :value='item.value', :key='item.value') {{item.label}}\n                    //- el-col(:span='4')\n                    //-     el-select(v-model='flight_scn.arrive', filterable, multiple, placeholder='降落机场', size='small')\n                    //-         el-option(v-for='item in flight_opt.arrive', :value='item.value', :key='item.value') {{item.label}}\n                    el-col(:span='8')\n                        el-select(v-model='flight_scn.position', filterable, multiple, placeholder='仓位', size='small', @change='screening')\n                            el-option(v-for='item in flight_opt.position', :value='item.value', :key='item.value', :label='item.label')\n        .loading-block(v-if='loading', v-loading='loading', element-loading-text='若加载时间过长，请重新搜索')\n        .main-data(v-else)\n            div.flight_table(v-if='flight_data_show.length > 0')\n                template(v-for='(item, index) in flight_data_show')\n                    flight-card(:flight_data='item', :ow_data='ow_data_show[item.no]')\n            div(v-else-if='flight_data === null || ow_data === null', style='height: 300px; background-color: white; padding-top: 100px;')\n                p(style='text-align: center; margin: 0 auto; font-family: \"youyuan\"; font-size: 28px; color: red;') 系统繁忙，请稍后重试\n            div(v-else-if='flight_data.length > 0 && flight_data_show.length === 0', style='height: 300px; background-color: white; padding-top: 100px;')\n                p(style='text-align: center; margin: 0 auto; font-family: \"youyuan\"; font-size: 28px; color: red;') 没有符合条件的航班\n            //- div(v-else, v-loading='loading', style='min-height: 300px', element-loading-text='若加载时间过长，请重新搜索')\n</template>\n\n<script>\nimport flightCard from './FlightCard.vue'\nimport flightCityCard from '@/components/FlightCityCard.vue'\nexport default {\n    components: {flightCard, flightCityCard},\n    data () {\n        return {\n            loading: false,\n            searchHide: false,\n            screeningFix: false,\n            flight_opt: {\n                airline: [],\n                setTime: [\n                    {\n                        value: '00:00-10:00',\n                        label: '00:00-10:00'\n                    },\n                    {\n                        value: '10:00-14:00',\n                        label: '10:00-14:00'\n                    },\n                    {\n                        value: '14:00-19:00',\n                        label: '14:00-19:00'\n                    },\n                    {\n                        value: '19:00-24:00',\n                        label: '19:00-24:00'\n                    }\n                ],\n                position: [\n                    {\n                        value: 'Y',\n                        label: '经济舱'\n                    },\n                    {\n                        value: 'C',\n                        label: '商务舱'\n                    },\n                    {\n                        value: 'F',\n                        label: '头等舱'\n                    }\n                ],\n                depart: [\n                    {\n                        value: '北京南苑机场',\n                        label: '北京南苑机场'\n                    },\n                    {\n                        value: '北京首都机场',\n                        label: '北京首都机场'\n                    }\n                ],\n                arrive: [\n                    {\n                        value: '上海虹桥机场',\n                        label: '上海虹桥机场'\n                    },\n                    {\n                        value: '上海浦东机场',\n                        label: '上海浦东机场'\n                    }\n                ]\n            },\n            flight_scn: {\n                airline: [],\n                setTime: [],\n                position: [],\n                depart: [],\n                arrive: []\n            },\n            airline: new Map([['3U', '四川航空'], ['8L', '祥鹏航空'], ['9C', '春秋航空'], ['9H', '长安航空'], ['A6', '红土航空'], ['BK', '奥凯航空'], ['CA', '中国航空'], ['CN', '大新华航'], ['CZ', '南方航空'], ['DR', '瑞丽航空'], ['DZ', '东海航空'], ['EU', '成都航空'], ['FM', '上海航空'], ['FU', '福州航空'], ['G5', '华夏航空'], ['GJ', '长龙航空'], ['GS', '天津航空'], ['GT', '桂林航空'], ['GX', '北部弯航空'], ['GY', '多彩贵州航空'], ['HO', '吉祥航空'], ['HU', '海南航空'], ['JD', '首都航空'], ['JR', '幸福航空'], ['KN', '中联航空'], ['KY', '昆明航空'], ['LT', '龙江航空'], ['MF', '厦门航空'], ['MU', '东方航空'], ['NS', '河北航空'], ['OQ', '重庆航空'], ['PN', '西部航空'], ['QW', '青岛航空'], ['RY', '江西航空'], ['SC', '山东航空'], ['TV', '西藏航空'], ['UQ', '乌鲁木齐航空'], ['Y8', '扬子江快运航空'], ['YI', '英安航空'], ['ZH', '深圳航空']]),\n            flight_data: [],\n            flight_data_show: [],\n            ow_data: {},\n            ow_data_show: {},\n            flightMap: []\n        }\n    },\n    computed: {\n        flight () {\n            return this.$store.state.flight\n        },\n        setTime () {\n            let time = new Date(this.flight.setTime)\n            return time.getFullYear() + '-' + (String(time.getMonth() + 1).length === 1 ? ('0' + (time.getMonth() + 1)) : (time.getMonth() + 1)) + '-' + (String(time.getDate()).length === 1 ? ('0' + time.getDate()) : (time.getDate()))\n        }\n    },\n    methods: {\n        getFlightData () {\n            if (this.flight.depart === '' || this.flight.arrive === '') {\n                this.$message('城市选项不能为空')\n            } else if (this.flight.setTime === '') {\n                this.$message('请输入出发时间')\n            } else if (this.flight.depart === this.flight.arrive) {\n                this.$message('到达城市不能与出发城市相同')\n            } else {\n                this.clear()\n                this.loading = true\n                this.$http.get('/web/jp/searchPlaneTicket', {\n                    params: {\n                        depart: this.flight.theDepart.cityCode,\n                        arrive: this.flight.theArrive.cityCode,\n                        date: this.setTime\n                    }\n                }).then((res) => {\n                    this.loading = false\n                    if (res.data === null || typeof res.data === 'string' || res.data.ow_data === null) {\n                        this.flight_data = null\n                        this.ow_data = null\n                        this.$message('系统繁忙，请稍后重试')\n                        return\n                    }\n                    this.flightMap = Reflect.ownKeys(res.data.ow_data)\n                    this.ow_data = res.data.ow_data\n                    for (let i of this.flightMap) {\n                        this.flight_data.push(res.data.flights[i])\n                    }\n                    for (let i = 0; i < this.flight_data.length; i++) {\n                        if (this.flight_data[i].depart === 'NAY') {\n                            this.flight_data[i].departPort = '北京南苑机场'\n                        } else if (this.flight_data[i].depart === 'SHA') {\n                            this.flight_data[i].departPort = '上海虹桥机场'\n                        } else {\n                            this.flight_data[i].departPort = this.flight.theDepart.airportNameCN\n                        }\n\n                        if (this.flight_data[i].arrive === 'NAY') {\n                            this.flight_data[i].arrivePort = '北京南苑机场'\n                        } else if (this.flight_data[i].arrive === 'SHA') {\n                            this.flight_data[i].arrivePort = '上海虹桥机场'\n                        } else {\n                            this.flight_data[i].arrivePort = this.flight.theArrive.airportNameCN\n                        }\n                    }\n                    for (let i in this.flight_data) {\n                        if (this.flight_opt.airline.indexOf(this.flight_data[i].airline) === -1) {\n                            this.flight_opt.airline.push(this.flight_data[i].airline)\n                        }\n                    }\n                    this.flight_data_show = this.flight_data.slice(0)\n                    this.ow_data_show = JSON.parse(JSON.stringify(this.ow_data))\n                    // console.log('flights:', Reflect.ownKeys(res.data.flights))\n                    // console.log('ow_data:', Reflect.ownKeys(res.data.ow_data))\n                }).catch((error) => {\n                    this.loading = false\n                    console.log(error)\n                })\n            }\n        },\n        departSelect (item) { // 选择出发城市\n            this.$store.commit('departChange', item)\n        },\n        arriveSelect (item) { // 选择到达城市\n            this.$store.commit('arriveChange', item)\n        },\n        cityExchange () { // 城市交换\n            let depart = this.flight.theDepart\n            let arrive = this.flight.theArrive\n            this.$store.commit('departChange', arrive)\n            this.$store.commit('arriveChange', depart)\n        },\n        clear () { // 清楚搜索信息\n            this.flight_data = []\n            this.flight_data_show = []\n            this.ow_data = {}\n            this.ow_data_show = {}\n            this.flight_opt.airline = []\n            this.flight_scn.airline = []\n            this.flight_scn.setTime = []\n            this.flight_scn.position = []\n        },\n        screening () { // 筛选\n            this.flight_data_show = []\n            let arr = this.flight_data\n            for (let i in arr) {\n                if (this.scnAirline(arr[i].airline) && this.scnTime(arr[i].departTime)) {\n                    this.flight_data_show.push(arr[i])\n                }\n            }\n            this.ow_data_show = JSON.parse(JSON.stringify(this.ow_data))\n            for (let i of this.flightMap) {\n                for (let j = 0; j < this.ow_data_show[i].cabins.length;) {\n                    if (!this.scnPosition(this.ow_data_show[i].cabins[j].level)) {\n                        // console.log(this.ow_data_show[i].cabins[j].level)\n                        this.ow_data_show[i].cabins.splice(j, 1)\n                    } else {\n                        j++\n                    }\n                }\n            }\n        },\n        scnAirline (airline) { // 航班筛选判断\n            if (this.flight_scn.airline.length === 0 || this.flight_scn.airline.indexOf(airline) !== -1) {\n                return true\n            } else {\n                return false\n            }\n        },\n        scnTime (time) { // 时间筛选判断\n            if (this.flight_scn.setTime.length === 0) {\n                return true\n            } else {\n                let setTime = this.flight_scn.setTime\n                for (let i in setTime) {\n                    switch (setTime[i]) {\n                    case '00:00-10:00':\n                        if (time.substring(0, 2) < 10) {\n                            return true\n                        }\n                        break\n                    case '10:00-14:00':\n                        if (time.substring(0, 2) >= 10 && time.substring(0, 2) < 14) {\n                            return true\n                        }\n                        break\n                    case '14:00-19:00':\n                        if (time.substring(0, 2) >= 14 && time.substring(0, 2) < 19) {\n                            return true\n                        }\n                        break\n                    case '19:00-24:00':\n                        if (time.substring(0, 2) >= 19 && time.substring(0, 2) < 24) {\n                            return true\n                        }\n                        break\n                    default: return false\n                    }\n                }\n            }\n        },\n        scnPosition (pos) { // 舱位筛选判断\n            if (this.flight_scn.position.length === 0 || this.flight_scn.position.indexOf(pos) !== -1) {\n                return true\n            } else {\n                return false\n            }\n        },\n        flightSearch () {\n            this.getFlightData()\n        }\n    },\n    created () {\n        if (this.$store.state.flight.setTime === '') {\n            this.$store.commit('setTime', new Date())\n        }\n        this.getFlightData()\n    },\n    mounted () {\n        // console.log(this.$el.querySelector('.screening').getBoundingClientRect().top)\n        let _this = this\n        function scroll () {\n            return {\n                left: window.pageXOffset,\n                top: window.pageYOffset\n            }\n        }\n        window.onscroll = (function () {\n            let sTop = scroll().top\n            return function () {\n                if (sTop > scroll().top) {\n                    // console.log('向上滚动')\n                    _this.searchHide = false\n                    sTop = scroll().top\n                    // --------------fix the screening bar\n                    _this.screeningFix = false\n                } else if (sTop < scroll().top) {\n                    // console.log('向下滚动')\n                    _this.searchHide = true\n                    sTop = scroll().top\n                    // --------------unfix the screening bar\n                    if (_this.$el.querySelector('.screening').getBoundingClientRect().top <= 60) {\n                        _this.screeningFix = true\n                    }\n                }\n            }\n        })()\n    },\n    beforeDestroy () {\n        window.onscroll = null\n    }\n}\n</script>\n\n<style scoped>\n    .search {\n        min-width: 1000px;\n        margin: 0 auto 10px;\n        overflow: visible;\n        text-align: center;\n        position: fixed;\n        left: 200px;\n        right: 0px;\n        border-radius: 0;\n        box-sizing: border-box;\n        top: 60px;\n        z-index: 1000;\n        height: 100px;\n        transition: transform 300ms;\n    }\n    .search-hide {\n        transition: transform 300ms;\n        transform: translate(0px, -100px)\n    }\n    .screening {\n        width: 1000px;\n        margin: 0 auto;\n        border-radius: 0;\n        margin-top: 100px;\n    }\n    .screening-fix {\n        /* position: fixed;\n        top: 60px;\n        margin: 0; */\n    }\n    .main-data {\n        width: 1000px;\n        margin: 0 auto;\n        /* background: red; */\n    }\n    .exchange {\n        padding: 6px;\n        font-family: \"YouYuan\";\n        color: #352b2b;\n        background-color: #f5eded;\n        border: 1px solid #dcdfe6;\n        border-radius: 50%;\n        cursor: pointer;\n        user-select: none;\n    }\n    .exchange:focus {\n        outline: none;\n    }\n    .exchange:hover {\n        color: #409eff;\n        background-color: #fff;\n    }\n    .loading-block {\n        height: 200px;\n        width: 1000px;\n        margin: 0 auto;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/flight/Flight.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"search\",class:{'search-hide': _vm.searchHide}},[_c('el-form',{attrs:{\"model\":_vm.flight}},[_c('el-row',{staticStyle:{\"width\":\"1000px\",\"margin\":\"auto\"},attrs:{\"gutter\":10,\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('flightCityCard',{attrs:{\"placeholder\":\"输入城市/机场\"},on:{\"citySelect\":_vm.departSelect},model:{value:(_vm.flight.depart),callback:function ($$v) {_vm.$set(_vm.flight, \"depart\", $$v)},expression:\"flight.depart\"}})],1)],1),_c('el-col',{attrs:{\"span\":1}},[_c('el-form-item',{staticStyle:{\"text-align\":\"center\"}},[_c('span',{staticClass:\"exchange\",on:{\"click\":_vm.cityExchange}},[_vm._v(\"换\")])])],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('flightCityCard',{attrs:{\"placeholder\":\"输入城市/机场\"},on:{\"citySelect\":_vm.arriveSelect},model:{value:(_vm.flight.arrive),callback:function ($$v) {_vm.$set(_vm.flight, \"arrive\", $$v)},expression:\"flight.arrive\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"出发日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.flight.setTime),callback:function ($$v) {_vm.$set(_vm.flight, \"setTime\", $$v)},expression:\"flight.setTime\"}})],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"medium\"},on:{\"click\":_vm.flightSearch}},[_vm._v(\"重新搜索\")])],1)],1)],1)],1)],1),_c('el-card',{staticClass:\"screening\",class:{'screening-fix': _vm.screeningFix}},[_c('el-form',{ref:\"flight_opt\",attrs:{\"model\":_vm.flight_opt}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{attrs:{\"filterable\":\"filterable\",\"multiple\":\"multiple\",\"placeholder\":\"起飞时段\",\"size\":\"small\"},on:{\"change\":_vm.screening},model:{value:(_vm.flight_scn.setTime),callback:function ($$v) {_vm.$set(_vm.flight_scn, \"setTime\", $$v)},expression:\"flight_scn.setTime\"}},_vm._l((_vm.flight_opt.setTime),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}})}))],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{attrs:{\"filterable\":\"filterable\",\"multiple\":\"multiple\",\"placeholder\":\"航空公司\",\"size\":\"small\"},on:{\"change\":_vm.screening},model:{value:(_vm.flight_scn.airline),callback:function ($$v) {_vm.$set(_vm.flight_scn, \"airline\", $$v)},expression:\"flight_scn.airline\"}},_vm._l((_vm.flight_opt.airline),function(item){return _c('el-option',{key:item,attrs:{\"value\":item,\"label\":_vm.airline.get(item)}})}))],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{attrs:{\"filterable\":\"filterable\",\"multiple\":\"multiple\",\"placeholder\":\"仓位\",\"size\":\"small\"},on:{\"change\":_vm.screening},model:{value:(_vm.flight_scn.position),callback:function ($$v) {_vm.$set(_vm.flight_scn, \"position\", $$v)},expression:\"flight_scn.position\"}},_vm._l((_vm.flight_opt.position),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}})}))],1)],1)],1)],1),(_vm.loading)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading-block\",attrs:{\"element-loading-text\":\"若加载时间过长，请重新搜索\"}}):_c('div',{staticClass:\"main-data\"},[(_vm.flight_data_show.length > 0)?_c('div',{staticClass:\"flight_table\"},[_vm._l((_vm.flight_data_show),function(item,index){return [_c('flight-card',{attrs:{\"flight_data\":item,\"ow_data\":_vm.ow_data_show[item.no]}})]})],2):(_vm.flight_data === null || _vm.ow_data === null)?_c('div',{staticStyle:{\"height\":\"300px\",\"background-color\":\"white\",\"padding-top\":\"100px\"}},[_c('p',{staticStyle:{\"text-align\":\"center\",\"margin\":\"0 auto\",\"font-family\":\"\\\"youyuan\\\"\",\"font-size\":\"28px\",\"color\":\"red\"}},[_vm._v(\"系统繁忙，请稍后重试\")])]):(_vm.flight_data.length > 0 && _vm.flight_data_show.length === 0)?_c('div',{staticStyle:{\"height\":\"300px\",\"background-color\":\"white\",\"padding-top\":\"100px\"}},[_c('p',{staticStyle:{\"text-align\":\"center\",\"margin\":\"0 auto\",\"font-family\":\"\\\"youyuan\\\"\",\"font-size\":\"28px\",\"color\":\"red\"}},[_vm._v(\"没有符合条件的航班\")])]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62ee5147\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/flight/Flight.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62ee5147\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Flight.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Flight.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Flight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62ee5147\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Flight.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62ee5147\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/flight/Flight.vue\n// module id = null\n// module chunks = ","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-trim.js\n// module id = mnVu\n// module chunks = 1 2","require('../../modules/es6.number.parse-int');\nmodule.exports = parseInt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/parse-int.js\n// module id = qrpI\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/reflect/own-keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/reflect/own-keys.js\n// module id = x4/c\n// module chunks = 1 2"],"sourceRoot":""}