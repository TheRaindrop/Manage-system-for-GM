{"version":3,"sources":["webpack:///src/pages/flight/FlightOrder.vue","webpack:///./src/pages/flight/FlightOrder.vue?0fad","webpack:///./src/pages/flight/FlightOrder.vue","webpack:///./node_modules/core-js/library/fn/reflect/delete-property.js","webpack:///./node_modules/babel-runtime/core-js/math/trunc.js","webpack:///./node_modules/core-js/library/modules/es6.math.trunc.js","webpack:///./node_modules/core-js/library/modules/es6.reflect.delete-property.js","webpack:///./node_modules/core-js/library/fn/math/trunc.js","webpack:///./node_modules/babel-runtime/core-js/reflect/delete-property.js"],"names":["FlightOrder","_this","this","required","message","trigger","validator","callback","value","_step","minSalePrice","num","price","_step2","_step3","length","id","then","res","data","contacts","birthday","temp","error","getContacts","departDate","getDate","age","resetFields","phone","name","sex","card_type","card_number","d","host_id","insurance","nickname","i","_step4","serviceLevel","policys","sign","postOrder","err","taxFee","orderObj","getFullYear","_this7","query","cardObj","results","flight_FlightOrder","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","_v","staticStyle","width","attrs","filterable","placeholder","on","change","selectUser","model","$$v","userNo","_l","item","index","key","label","_s","userList","_e","friendNo","margin-top","type","icon","disabled","click","$event","addContact","editContact","friends","cardType","get","Math","trunc","theprice","roundOff","size","departCityName","arriveCityName","airline","no","level","toUpperCase","cabin","departTime","departPort","flightTime","arriveTime","arrivePort","adtMsg","chdMsg","babyMsg","fuelFee","totalPrice","babyAlert","chdAlert","stockNum","confirmSend","title","visible","ctcModel","update:visible","ref","formContact","rules","ruleContact","label-width","prop","$set","_n","placeolder","value-format","slot","ctcModelLoading","ctcDelete","ctcConfirm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","Reflect","deleteProperty","default","__esModule","$export","S","it","floor","ceil","gOPD","f","anObject","target","propertyKey","desc","configurable"],"mappings":"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","file":"static/js/3.06faddeb59fbf0aaf89c.js","sourcesContent":["<template lang='pug'>\r\n    div.main-content(v-loading='loading')\r\n        el-card.order-left\r\n            .search-block\r\n                span 用户选择\r\n                |&nbsp;&nbsp;&nbsp;&nbsp;\r\n                el-select(v-model='userNo', filterable, style='width: 200px', @change='selectUser', placeholder='手机号码选择乘机用户')\r\n                    el-option(v-for='(item, index) in userList', :value='index', :key='index', :label='item.phone + \" - \" + item.nickname')\r\n            .friend-block\r\n                h3.friend-block__head 机主关联乘客\r\n                    span.friend-block__head_sub (跟机主关联的所有乘客)\r\n                el-card.friend-block__card\r\n                    p.friend-block__card_host(v-if='userNo!==null') {{userList[userNo].nickname}}(机主)\r\n                    p.age-alert(v-show='babyAlert') (2周岁以下婴儿订票需有成人陪同)\r\n                    p.age-alert(v-show='chdAlert') (儿童只可单独订票)\r\n                    p.age-alert(v-show='stockNum') (已超过订单最大购票人数)\r\n                    el-checkbox-group(v-model='friendNo')\r\n                        el-checkbox(v-for='(item, index) in friends', :value='index', :label='index', :key='item.id') {{item.name}}\r\n                el-button(type='primary', icon='el-icon-plus', style='margin-top: 10px;', @click='addContact(userList[userNo].id)', :disabled='userNo===null') 新增联系人\r\n            .passenger-block\r\n                h3.passenger-block__head 乘机人信息\r\n                .passenger-block__card(v-for='item in friendNo')\r\n                    .passenger-block__card_left\r\n                        p: i.el-icon-edit(@click='editContact(friends[item], userList[userNo].id)')\r\n                    .passenger-block__card_middle\r\n                        p.line\r\n                            span.label 姓名:\r\n                            span.detail {{friends[item].name}}\r\n                        p.line\r\n                            span.label 证件类型:\r\n                            span.detail {{cardType.get(friends[item].card_type)}}\r\n                        p.line\r\n                            span.label 证件号码:\r\n                            span.detail {{friends[item].card_number}}\r\n                        //- p.line\r\n                            span.label 电话:\r\n                            span.detail {{friends[item].phone}}\r\n                    .passenger-block__card_right\r\n                        p.line\r\n                            span.detail(v-if='friends[item].age === null') 身份证信息遗漏，请重新编辑\r\n                            span.detail(v-else-if='friends[item].age>=12') 成人：￥{{Math.trunc(cardObj.price.minSalePrice)}}\r\n                            span.detail(v-else-if='friends[item].age>=2') 儿童：￥{{cardObj.price.theprice*0.5}}\r\n                            span.detail(v-else) 婴儿：￥{{roundOff(cardObj.price.theprice*0.1)}}\r\n            .select-block\r\n                .select-block__choice\r\n                    p.select-block__choice_line\r\n                        el-checkbox(v-model='insurance', size='large') 航空意外险\r\n                //- .select-block__choice\r\n                //-     p.select-block__choice_line\r\n                //-         el-checkbox(v-model='invoice', size='large') 报销凭证(到付)\r\n        el-card.order-right\r\n            el-card.ticket-card\r\n                .ticket-card__head\r\n                    h3.ticket-card__head_title\r\n                        span {{cardObj.departDate}}\r\n                        span {{cardObj.departCityName}} - {{cardObj.arriveCityName}}\r\n                    p.ticket-card__head_sub\r\n                        span {{cardObj.airline}}\r\n                        span {{cardObj.no}}\r\n                        span(v-if='cardObj.level.toUpperCase() === \"Y\"') 经济{{cardObj.cabin}}舱\r\n                        span(v-else-if='cardObj.level.toUpperCase() === \"F\"') 头等{{cardObj.cabin}}舱\r\n                        span(v-else-if='cardObj.level.toUpperCase() === \"C\"') 商务{{cardObj.cabin}}舱\r\n                .ticket-card__journey\r\n                    .ticket-card__journey_left\r\n                        h3.clock {{cardObj.departTime}}\r\n                        p.airport {{cardObj.departPort}}\r\n                    .ticket-card__journey_middle\r\n                        p.last {{cardObj.flightTime}}\r\n                        p.line\r\n                    .ticket-card__journey_right\r\n                        h3.clock {{cardObj.arriveTime}}\r\n                        p.airport {{cardObj.arrivePort}}\r\n                hr\r\n                .ticket-card__content(v-if='adtMsg.num || chdMsg.num || babyMsg.num')\r\n                    .ticket-card__content_line(v-if='adtMsg.num')\r\n                        p.line\r\n                            span.line_label 成人票\r\n                            span.line_price ￥{{Math.trunc(cardObj.price.minSalePrice)}} X {{adtMsg.num}}\r\n                    .ticket-card__content_line(v-if='chdMsg.num')\r\n                        p.line\r\n                            span.line_label 儿童票\r\n                            span.line_price ￥{{this.cardObj.price.theprice}} X {{chdMsg.num}} X 0.5\r\n                    .ticket-card__content_line(v-if='babyMsg.num')\r\n                        p.line\r\n                            span.line_label 婴儿票\r\n                            span.line_price ￥{{roundOff(this.cardObj.price.theprice * 0.1)}} X {{babyMsg.num}}\r\n                    .ticket-card__content_line(v-if='adtMsg.num || chdMsg.num || babyMsg.num')\r\n                        p.line\r\n                            span.line_label 机建费\r\n                            span.line_price\r\n                                span(v-if='!adtMsg.num && !chdMsg.num') ￥0\r\n                                span(v-else)\r\n                                    span.line_price_adt(v-if='adtMsg.num') ￥{{cardObj.price.taxFee}} X {{adtMsg.num}}\r\n                                    span.line_price_add(v-if='adtMsg.num && chdMsg.num') +\r\n                                    span.line_price_chd(v-if='chdMsg.num') {{roundOff(cardObj.price.taxFee * 0.5)}} X {{chdMsg.num}}\r\n                    .ticket-card__content_line(v-if='adtMsg.num || chdMsg.num || babyMsg.num')\r\n                        p.line\r\n                            span.line_label 燃油费\r\n                            span.line_price ￥{{cardObj.price.fuelFee * friendNo.length}}\r\n                    hr\r\n                    .ticket-card__content_line(v-if='insurance')\r\n                        p.line\r\n                            span.line_label 航空意外险\r\n                            span.line_price ￥5 X {{friendNo.length}}\r\n                    .ticket-card__content_line(v-if='invoice')\r\n                        p.line\r\n                            span.line_label 报销凭证\r\n                            span.line_price 到付\r\n                    .ticket-card__content_line\r\n                        p.total-price\r\n                            |￥{{totalPrice}}\r\n                .ticket-card__confirm(v-if='adtMsg.num || chdMsg.num || babyMsg.num')\r\n                    el-button(type='primary', style='width: 100%', @click='confirmSend', :disabled='babyAlert || chdAlert || stockNum') 发给用户确认并自动预定\r\n        .user-model\r\n            el-dialog(title='联系人', :visible.sync='ctcModel', width='30%')\r\n                el-form(ref='formContact', :model='formContact', :rules='ruleContact', label-width='80px', v-loading='ctcModelLoading')\r\n                    el-form-item(label='姓名', prop='name')\r\n                        el-input(v-model='formContact.name')\r\n                    el-form-item(label='电话', prop='phone')\r\n                        el-input(v-model='formContact.phone')\r\n                    el-form-item(label='性别')\r\n                        el-radio-group(v-model.number='formContact.sex')\r\n                            el-radio(:label='1') 男\r\n                            el-radio(:label='2') 女\r\n                    el-form-item(label='证件类型', prop='card_type')\r\n                        el-select(v-model='formContact.card_type')\r\n                            el-option(value='NI', label='身份证(默认)')\r\n                            el-option(value='PP', label='护照')\r\n                            el-option(value='HX', label='回乡证')\r\n                            el-option(value='TB', label='台胞证')\r\n                            el-option(value='GA', label='港澳通行证')\r\n                            el-option(value='HY', label='国际海员证')\r\n                            el-option(value='ID', label='其他')\r\n                    el-form-item(label='证件号码', prop='card_number')\r\n                        el-input(v-model='formContact.card_number')\r\n                    el-form-item(label='出生日期', prop='birthday', v-if='formContact.card_type!==\"NI\"')\r\n                        el-date-picker(v-model='formContact.birthday', type='date', placeolder='选择出生日期', value-format='yyyy-MM-dd')\r\n                span.dialog-footer(slot='footer')\r\n                    el-button(@click='ctcDelete', v-if='formContact.id', :disabled='ctcModelLoading') 删除\r\n                    el-button(type='primary', @click='ctcConfirm(\"formContact\")', :disabled='ctcModelLoading') 保存\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        let validatePhone = (rule, value, callback) => {\r\n            let reg = /^1[345789]\\d{9}$/\r\n            if (value === null || value === '') {\r\n                callback()\r\n            } else if (reg.test(value)) {\r\n                callback()\r\n            } else {\r\n                callback(new Error('电话号码格式错误'))\r\n            }\r\n        }\r\n        let validateID = (rule, value, callback) => {\r\n            // let reg = /^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/\r\n            if (this.formContact.card_type === 'NI') {\r\n                if (value === null || value === '') {\r\n                    callback(new Error('身份证号不能为空'))\r\n                // } else if (reg.test(value)) {\r\n                } else if (this.isIDCard(value)) {\r\n                    callback()\r\n                } else {\r\n                    callback(new Error('身份证号码格式错误'))\r\n                }\r\n            } else if (this.formContact.card_type !== 'ID') {\r\n                if (value === null || value === '') {\r\n                    callback(new Error('证件号码不能为空'))\r\n                } else {\r\n                    callback()\r\n                }\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        return {\r\n            ctcModelLoading: false,\r\n            userList: [],\r\n            userNo: null,\r\n            friends: [],\r\n            friendNo: [],\r\n            insurance: false,\r\n            invoice: false,\r\n            cardObj: {},\r\n            orderObj: {},\r\n            ctcModel: false,\r\n            loading: false,\r\n            formContact: {\r\n                host_id: '',\r\n                id: '',\r\n                name: '',\r\n                phone: '',\r\n                sex: 1,\r\n                card_type: 'NI',\r\n                card_number: '',\r\n                birthday: ''\r\n            },\r\n            ruleContact: {\r\n                name: [\r\n                    {required: true, message: '请填写联系人姓名', trigger: 'blur'}\r\n                ],\r\n                phone: [\r\n                    {validator: validatePhone, trigger: 'blur'}\r\n                ],\r\n                card_number: [\r\n                    {validator: validateID, trigger: 'blur'}\r\n                ],\r\n                birthday: [\r\n                    {required: true, message: '请填写出生日期', trigger: 'blur'}\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        cardType () {\r\n            return new Map([\r\n                ['NI', '身份证'],\r\n                ['PP', '护照'],\r\n                ['HX', '回乡证'],\r\n                ['TB', '台胞证'],\r\n                ['GA', '港澳通行证'],\r\n                ['HY', '国际海员证'],\r\n                ['ID', '其他']\r\n            ])\r\n        },\r\n        babyAlert () { // 婴儿不能单独订购，不满足条件时显示提醒\r\n            if (this.babyMsg.num > 0 && this.adtMsg.num < 1) {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        },\r\n        chdAlert () { // 儿童只能同类型订购，不满足条件时显示提醒\r\n            if (this.chdMsg.num > 0 && (this.adtMsg.num > 0 || this.babyMsg.num > 0)) {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        },\r\n        adtMsg () { // 订票成人信息，包括人数与价格\r\n            let price = 0\r\n            let num = 0\r\n            for (let value of this.friendNo) {\r\n                if (this.friends[value].age >= 12) {\r\n                    price += this.cardObj.price.minSalePrice\r\n                    num++\r\n                }\r\n            }\r\n            price = Math.trunc(price)\r\n            return {price, num}\r\n        },\r\n        chdMsg () { // 订票儿童信息，包括人数与价格\r\n            let price = 0\r\n            let num = 0\r\n            for (let value of this.friendNo) {\r\n                if (this.friends[value].age < 12 && this.friends[value].age >= 2) {\r\n                    price += this.cardObj.price.theprice * 0.5\r\n                    num++\r\n                }\r\n            }\r\n            return {price, num}\r\n        },\r\n        babyMsg () { // 订票婴儿信息，包括人数与价格\r\n            let price = 0\r\n            let num = 0\r\n            for (let value of this.friendNo) {\r\n                if (this.friends[value].age < 2 && this.friends[value].age !== null) {\r\n                    price += this.roundOff(this.cardObj.price.theprice * 0.1)\r\n                    num++\r\n                }\r\n            }\r\n            return {price, num}\r\n        },\r\n        totalPrice () { // 总价\r\n            let price = this.adtMsg.price + this.chdMsg.price + this.babyMsg.price + this.cardObj.price.taxFee * this.adtMsg.num + this.roundOff(this.cardObj.price.taxFee * 0.5) * this.chdMsg.num + this.cardObj.price.fuelFee * this.adtMsg.num + this.cardObj.price.fuelFee * this.chdMsg.num * 0.5\r\n            if (this.insurance) {\r\n                price += 5 * this.friendNo.length\r\n            }\r\n            return price\r\n        },\r\n        stockNum () { // 仓位剩余座位数\r\n            if ((this.adtMsg.num + this.babyMsg.num) > this.cardObj.stock || this.chdMsg.num > this.cardObj.stock) {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        getContacts () { // 获取相关联系人信息\r\n            let temp = []\r\n            this.friendNo = []\r\n            this.friends = []\r\n            this.$http.get('/users/' + this.userList[this.userNo].id)\r\n                .then((res) => {\r\n                    this.loading = false\r\n                    console.log(res.data)\r\n                    temp = res.data.contacts\r\n                    for (let item in temp) {\r\n                        if (temp[item].birthday) {\r\n                            temp[item].age = this.getCtcAge(temp[item].birthday)\r\n                        } else {\r\n                            alert('没填写出生日期吗？')\r\n                        }\r\n                    }\r\n                    this.friends = temp\r\n                }).catch((error) => {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        selectUser () { // 选择机主\r\n            this.getContacts()\r\n        },\r\n        getCtcAge (birthday) { // 根据生日与乘机日期获取乘机人坐飞机当天的年龄\r\n            let birthDay = new Date(birthday)\r\n            if (birthDay !== null) {\r\n                let nowDate = new Date(this.cardObj.departDate)\r\n                let month = nowDate.getMonth() + 1\r\n                let day = nowDate.getDate()\r\n                let age = nowDate.getFullYear() - birthDay.getFullYear() - 1\r\n                // if (birthDay.substring(10, 12) < month || (birthDay.substring(10, 12) === month && birthDay.substring(12, 14) <= day)) {\r\n                if (birthDay.getMonth() + 1 < month || (birthDay.getMonth() + 1 === month && birthDay.getDate() <= day)) {\r\n                    age++\r\n                }\r\n                return age\r\n            } else {\r\n                return null\r\n            }\r\n        },\r\n        addContact (id) { // 添加联系人\r\n            if (this.$refs['formContact']) {\r\n                this.$refs['formContact'].resetFields()\r\n            }\r\n            this.ctcModel = true\r\n            this.formContact.host_id = id\r\n            this.formContact.id = ''\r\n            this.formContact.phone = ''\r\n            this.formContact.name = ''\r\n            this.formContact.sex = 1\r\n            this.formContact.card_type = 'NI'\r\n            this.formContact.card_number = ''\r\n            this.formContact.birthday = ''\r\n        },\r\n        editContact (item, id) { // 编辑联系人\r\n            if (this.$refs['formContact']) {\r\n                this.$refs['formContact'].resetFields()\r\n            }\r\n            this.ctcModel = true\r\n            this.formContact.host_id = id\r\n            this.formContact.id = item.id\r\n            this.formContact.phone = item.phone\r\n            this.formContact.name = item.name\r\n            this.formContact.sex = item.sex\r\n            this.formContact.card_type = item.card_type\r\n            this.formContact.card_number = item.card_number\r\n            this.formContact.birthday = (item.birthday).substr(0, 10)\r\n        },\r\n        ctcConfirm (name) { // 确认添加\r\n            this.$refs[name].validate((valid) => {\r\n                if (valid) {\r\n                    if (this.formContact.card_type === 'NI') {\r\n                        let d = this.formContact.card_number.substring(6, 10) + '-' + this.formContact.card_number.substring(10, 12) + '-' + this.formContact.card_number.substring(12, 14)\r\n                        this.formContact.birthday = d\r\n                    }\r\n                    if (this.formContact.id) {\r\n                        this.ctcModelLoading = true\r\n                        this.$http.patch('/users/contacts/' + this.formContact.id, {\r\n                            name: this.formContact.name,\r\n                            phone: this.formContact.phone || null,\r\n                            sex: this.formContact.sex,\r\n                            card_type: this.formContact.card_type,\r\n                            card_number: this.formContact.card_number,\r\n                            birthday: this.formContact.birthday + 'T00:00',\r\n                            owner: this.formContact.host_id\r\n                        }).then((res) => {\r\n                            this.ctcModelLoading = false\r\n                            this.ctcModel = false\r\n                            this.loading = true\r\n                            this.$message({\r\n                                message: '修改成功',\r\n                                type: 'success'\r\n                            })\r\n                            this.getContacts()\r\n                        }).catch((error) => {\r\n                            this.ctcModelLoading = false\r\n                            console.log(error)\r\n                        })\r\n                    } else {\r\n                        this.ctcModelLoading = true\r\n                        this.$http.post('/users/contacts', {\r\n                            name: this.formContact.name,\r\n                            phone: this.formContact.phone || null,\r\n                            card_type: this.formContact.card_type,\r\n                            card_number: this.formContact.card_number,\r\n                            sex: this.formContact.sex,\r\n                            birthday: this.formContact.birthday + 'T00:00',\r\n                            owner: this.formContact.host_id\r\n                        }).then((res) => {\r\n                            this.ctcModelLoading = false\r\n                            this.ctcModel = false\r\n                            this.loading = true\r\n                            this.$message({\r\n                                message: '添加成功',\r\n                                type: 'success'\r\n                            })\r\n                            this.getContacts()\r\n                        }).catch((error) => {\r\n                            this.ctcModelLoading = false\r\n                            console.log(error)\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.$message({\r\n                        message: '格式不正确',\r\n                        type: 'error'\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        ctcDelete () { // 删除联系人\r\n            this.$confirm('确认删除？')\r\n                .then(() => {\r\n                    this.$http.delete('/users/contacts/' + this.formContact.id)\r\n                        .then((res) => {\r\n                            this.ctcModel = false\r\n                            this.loading = true\r\n                            this.$message({\r\n                                message: '删除成功',\r\n                                type: 'success'\r\n                            })\r\n                            this.getContacts()\r\n                        }).catch((error) => {\r\n                            console.log(error)\r\n                        })\r\n                }).catch(() => {\r\n                    console.log('no')\r\n                })\r\n        },\r\n        confirmSend () { // 发送订单\r\n            // let flight = this.orderObj.flights[0]\r\n            // this.orderObj.flights = []\r\n            this.loading = true\r\n            this.orderObj.insurance = this.insurance\r\n            this.orderObj.name = this.userList[this.userNo].nickname\r\n            this.orderObj.phone = this.userList[this.userNo].phone\r\n            this.orderObj.user_id = this.userList[this.userNo].id\r\n            this.orderObj.travelers = []\r\n            for (let i of this.friendNo) {\r\n                this.orderObj.travelers.push(this.friends[i].id)\r\n            }\r\n            if (this.adtMsg.num > 0 && this.babyMsg.num > 0) { // 婴儿订票必须有成人陪同，所以作此判断\r\n                this.orderObj.prices[1] = Object.assign({}, this.orderObj.prices[0])\r\n                this.orderObj.prices[0].ageType = 'ADT'\r\n                Reflect.deleteProperty(this.orderObj.prices[1], 'policyId')\r\n                // this.orderObj.prices[1].policyId = ''\r\n                this.orderObj.prices[1].cabin = this.orderObj.prices[1].serviceLevel\r\n                this.orderObj.prices[1].ageType = 'INF'\r\n                this.orderObj.prices[1].fuelFee = 0\r\n                this.orderObj.prices[1].taxFee = 0\r\n                this.orderObj.prices[1].parPrice = this.roundOff(this.orderObj.prices[1].originPrice * 0.1) // 别问我为啥都选择originPrice，我也不知道\r\n                this.orderObj.prices[1].salePrice = this.roundOff(this.orderObj.prices[1].originPrice * 0.1)\r\n                this.orderObj.prices[1].fdPrice = this.roundOff(this.orderObj.prices[1].originPrice * 0.1)\r\n                this.orderObj.prices[1].buyPrice = this.roundOff(this.orderObj.prices[1].originPrice * 0.1)\r\n                // this.orderObj.prices[1].parPrice = this.roundOff(this.orderObj.prices[1].parPrice * 0.1)\r\n                // this.orderObj.prices[1].salePrice = this.roundOff(this.orderObj.prices[1].salePrice * 0.1)\r\n                // this.orderObj.prices[1].fdPrice = this.roundOff(this.orderObj.prices[1].fdPrice * 0.1)\r\n                // this.orderObj.prices[1].buyPrice = this.roundOff(this.orderObj.prices[1].buyPrice * 0.1)\r\n                this.$http.post('/orders/orderPolicy', { // 获取sign，只有婴儿不需要\r\n                    ageType: 'ADT',\r\n                    lowestPrice: 'true',\r\n                    policys: this.cardObj.policys\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    let sign = ''\r\n                    for (let key in res.data.ow_data) {\r\n                        sign = res.data.ow_data[key].cabins[0].salePrices[0].sign\r\n                        break\r\n                    }\r\n                    this.orderObj.prices[0].sign = sign\r\n                    this.postOrder()\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            } else if (this.chdMsg.num > 0) { // 儿童只能同类型订购\r\n                this.orderObj.prices[0].ageType = 'CHD'\r\n                this.orderObj.prices[0].fuelFee = 0\r\n                this.orderObj.prices[0].taxFee = this.orderObj.prices[0].taxFee\r\n                this.orderObj.prices[0].parPrice = this.roundOff(this.orderObj.prices[0].originPrice * 0.5)\r\n                this.orderObj.prices[0].salePrice = this.roundOff(this.orderObj.prices[0].originPrice * 0.5)\r\n                this.orderObj.prices[0].fdPrice = this.roundOff(this.orderObj.prices[0].originPrice * 0.5)\r\n                this.orderObj.prices[0].buyPrice = this.roundOff(this.orderObj.prices[0].originPrice * 0.5)\r\n                // this.orderObj.prices[0].parPrice = this.roundOff(this.orderObj.prices[0].parPrice * 0.5)\r\n                // this.orderObj.prices[0].salePrice = this.roundOff(this.orderObj.prices[0].salePrice * 0.5)\r\n                // this.orderObj.prices[0].fdPrice = this.roundOff(this.orderObj.prices[0].fdPrice * 0.5)\r\n                // this.orderObj.prices[0].buyPrice = this.roundOff(this.orderObj.prices[0].buyPrice * 0.5)\r\n                this.$http.post('/orders/orderPolicy', {\r\n                    ageType: 'CHD',\r\n                    lowestPrice: 'true',\r\n                    policys: this.cardObj.policys\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    let sign = ''\r\n                    for (let key in res.data.ow_data) {\r\n                        sign = res.data.ow_data[key].cabins[0].salePrices[0].sign\r\n                        break\r\n                    }\r\n                    this.orderObj.prices[0].sign = sign\r\n                    this.postOrder()\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            } else { // 所以总共有三种订票形式，成人订票，成人加婴儿，儿童\r\n                this.orderObj.prices[0].ageType = 'ADT'\r\n                this.$http.post('/orders/orderPolicy', {\r\n                    ageType: 'ADT',\r\n                    lowestPrice: 'true',\r\n                    policys: this.cardObj.policys\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    let sign = ''\r\n                    for (let key in res.data.ow_data) {\r\n                        sign = res.data.ow_data[key].cabins[0].salePrices[0].sign\r\n                        break\r\n                    }\r\n                    this.orderObj.prices[0].sign = sign\r\n                    this.postOrder()\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        },\r\n        postOrder () { // 发送订票请求\r\n            console.log(this.orderObj)\r\n            this.$http.post('/orders/dps', this.orderObj)\r\n                .then((res) => {\r\n                    if (res.status >= 200 && res.status < 300) {\r\n                        this.$router.replace({path: '/order'})\r\n                        // this.$router.replace({path: '/orderDetail', query: {order_id: res.data.order_id}})\r\n                    } else {\r\n                        this.loading = false\r\n                        this.$message(res.data.message)\r\n                    }\r\n                }).catch((error) => {\r\n                    this.loading = false\r\n                    this.$message.error(error)\r\n                    console.log(error)\r\n                })\r\n        },\r\n        roundOff (n) { // 腾邦那边要求的数据格式，舍掉个位数\r\n            return Math.round(n / 10) * 10\r\n        },\r\n        isIDCard (cardNo) { // 判断是否为身份证号码\r\n            let zoneNum = new Map([\r\n                [11, '北京'],\r\n                [12, '天津'],\r\n                [13, '河北'],\r\n                [14, '山西'],\r\n                [15, '内蒙古'],\r\n                [21, '辽宁'],\r\n                [22, '吉林'],\r\n                [23, '黑龙江'],\r\n                [31, '上海'],\r\n                [32, '江苏'],\r\n                [33, '浙江'],\r\n                [34, '安徽'],\r\n                [35, '福建'],\r\n                [36, '江西'],\r\n                [37, '山东'],\r\n                [41, '河南'],\r\n                [42, '湖北'],\r\n                [43, '湖南'],\r\n                [44, '广东'],\r\n                [45, '广西'],\r\n                [46, '海南'],\r\n                [50, '重庆'],\r\n                [51, '四川'],\r\n                [52, '贵州'],\r\n                [53, '云南'],\r\n                [54, '西藏'],\r\n                [61, '陕西'],\r\n                [62, '甘肃'],\r\n                [63, '青海'],\r\n                [64, '新疆'],\r\n                [71, '台湾'],\r\n                [81, '香港'],\r\n                [82, '澳门'],\r\n                [91, '外国']\r\n            ])\r\n            const PARITYBIT = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2']\r\n            const POWER_LIST = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n            if (cardNo === null || cardNo.length !== 18) {\r\n                return false\r\n            }\r\n            const cs = cardNo.toUpperCase().split('')\r\n            let power = 0\r\n            for (let i = 0; i < cs.length; i++) {\r\n                if (i === cs.length - 1 && cs[i] === 'X') {\r\n                    break\r\n                }\r\n                if (cs[i] < '0' || cs[i] > '9') {\r\n                    return false\r\n                }\r\n                if (i < cs.length - 1) {\r\n                    power += (cs[i] - '0') * POWER_LIST[i]\r\n                }\r\n            }\r\n            // 校验区位码\r\n            if (!zoneNum.has(parseInt(cardNo.substring(0, 2)))) {\r\n                return false\r\n            }\r\n            // 校验年份\r\n            const year = parseInt(cardNo.substring(6, 10))\r\n            const nowYear = (new Date()).getFullYear()\r\n            if (year < 1900 || year > nowYear) {\r\n                return false\r\n            }\r\n            // 校验月份\r\n            const month = parseInt(cardNo.substring(10, 12))\r\n            if (month < 1 || month > 12) {\r\n                return false\r\n            }\r\n            // 校验天数\r\n            const day = parseInt(cardNo.substring(12, 14))\r\n            if (day < 1 || day > 31) {\r\n                return false\r\n            }\r\n            // 校验’校验码‘\r\n            return cs[cs.length - 1] === PARITYBIT[power % 11]\r\n        }\r\n    },\r\n    created () {\r\n        let queryObj = this.$route.query\r\n        this.cardObj = JSON.parse(decodeURIComponent(queryObj.cardObj))\r\n        this.orderObj = JSON.parse(decodeURIComponent(queryObj.orderObj))\r\n        // this.cardObj = JSON.parse(queryObj.cardObj)\r\n        // this.orderObj = JSON.parse(queryObj.orderObj)\r\n        this.$http.get('/users', {\r\n            params: {\r\n                page_size: 10000\r\n            }\r\n        }).then((res) => {\r\n            this.userList = res.data.results\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        })\r\n    },\r\n    beforeDestory () {\r\n        console.log('leaving--------------------')\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .main-content {\r\n        display: flex;\r\n        padding: 10px;\r\n    }\r\n    .order-left, .order-right {\r\n        flex-grow: 1;\r\n        margin: 0 5px;\r\n    }\r\n    .search-block {\r\n        border-bottom: 1px solid #Dfdfdf;\r\n        padding-bottom: 10px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .friend-block__head, .passenger-block__head {\r\n        font-weight: bold;\r\n    }\r\n    .friend-block__head_sub {\r\n        font-weight: normal;\r\n        font-size: 15px;\r\n    }\r\n    .friend-block__card {\r\n        border-radius: 0;\r\n        background-color: #f5f5f5;\r\n        margin: 5px 0;\r\n    }\r\n    .friend-block__card_host {\r\n        margin-bottom: 5px;\r\n        font-size: 18px;\r\n    }\r\n    .passenger-block {\r\n        margin-top: 20px;\r\n    }\r\n    .passenger-block__card {\r\n        border-radius: 0;\r\n        background-color: rgb(250, 232, 232);\r\n        padding: 15px;\r\n        margin: 5px;\r\n        display: flex;\r\n        align-items: center;\r\n        /* justify-content: space-between; */\r\n    }\r\n    .passenger-block__card:hover {\r\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\r\n        position: relative;\r\n    }\r\n    .passenger-block__card_left {\r\n        flex-grow: 1;\r\n    }\r\n    .passenger-block__card_middle {\r\n        flex-grow: 6;\r\n    }\r\n    .passenger-block__card_right {\r\n        flex-grow: 3;\r\n    }\r\n    .passenger-block__card_middle > .line {\r\n        margin: 10px 0;\r\n    }\r\n    .passenger-block__card_middle > .line > .label {\r\n        display: inline-block;\r\n        width: 100px;\r\n    }\r\n    .passenger-block__card_middle > .line > .detail {\r\n        margin-left: 5px;\r\n        display: inline-block;\r\n        width: 200px;\r\n        border-bottom: 1px solid black;\r\n    }\r\n    .passenger-block__card_right > .line > .type {\r\n        margin-right: 10px;\r\n    }\r\n    .select-block__choice {\r\n        margin: 10px;\r\n    }\r\n    .ticket-card {\r\n        width: 450px;\r\n        background-color: #f4f8f9;\r\n        border: 1px solid #d7dce0;\r\n        border-radius: 0;\r\n        text-align: center;\r\n        padding-top: 10px;\r\n    }\r\n    .ticket-card__head_title > span {\r\n        margin: 10px;\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n    }\r\n    .ticket-card__head_sub {\r\n        margin: 5px 0;\r\n        font-size: 16px;\r\n    }\r\n    .ticket-card__head_sub > span {\r\n        color: #88949a;\r\n        margin: 0 3px;\r\n    }\r\n    .ticket-card__journey {\r\n        padding: 10px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n    .ticket-card__journey_left > .clock, .ticket-card__journey_right > .clock {\r\n        font-size: 30px;\r\n    }\r\n    .ticket-card__journey_left > .airport, .ticket-card__journey_right > .airport {\r\n        font-size: 12px;\r\n    }\r\n    .ticket-card__journey_middle {\r\n        padding: 0 20px;\r\n        margin-top: -10px;\r\n        flex-grow: 1;\r\n    }\r\n    .ticket-card__journey_middle > .line {\r\n        border-top: 1px solid black;\r\n        width: 100%;\r\n    }\r\n    .ticket-card__journey_middle > .line::after {\r\n        content: '';\r\n        display: block;\r\n        float: right;\r\n        width: 10px;\r\n        border-top: inherit;\r\n        transform: rotate(30deg);\r\n        margin-top: -3px\r\n    }\r\n    .ticket-card__content {\r\n        background: white;\r\n        margin: 20px;\r\n        padding: 10px;\r\n    }\r\n    .ticket-card__content_line {\r\n        margin: 10px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n    }\r\n    .ticket-card__content_line > .line {\r\n        font-size: 18px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .ticket-card__content_line > p.total-price {\r\n        text-align: right;\r\n        font-size: 30px;\r\n        color: red;\r\n    }\r\n    .el-icon-edit:hover {\r\n        cursor: pointer;\r\n        color: red;\r\n    }\r\n    .age-alert {\r\n        font-size: 14px;\r\n        color: red;\r\n        float: right;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/flight/FlightOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main-content\"},[_c('el-card',{staticClass:\"order-left\"},[_c('div',{staticClass:\"search-block\"},[_c('span',[_vm._v(\"用户选择\")]),_vm._v(\"    \"),_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"filterable\",\"placeholder\":\"手机号码选择乘机用户\"},on:{\"change\":_vm.selectUser},model:{value:(_vm.userNo),callback:function ($$v) {_vm.userNo=$$v},expression:\"userNo\"}},_vm._l((_vm.userList),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":index,\"label\":item.phone + \" - \" + item.nickname}})}))],1),_c('div',{staticClass:\"friend-block\"},[_c('h3',{staticClass:\"friend-block__head\"},[_vm._v(\"机主关联乘客\"),_c('span',{staticClass:\"friend-block__head_sub\"},[_vm._v(\"(跟机主关联的所有乘客)\")])]),_c('el-card',{staticClass:\"friend-block__card\"},[(_vm.userNo!==null)?_c('p',{staticClass:\"friend-block__card_host\"},[_vm._v(_vm._s(_vm.userList[_vm.userNo].nickname)+\"(机主)\")]):_vm._e(),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.babyAlert),expression:\"babyAlert\"}],staticClass:\"age-alert\"},[_vm._v(\"(2周岁以下婴儿订票需有成人陪同)\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chdAlert),expression:\"chdAlert\"}],staticClass:\"age-alert\"},[_vm._v(\"(儿童只可单独订票)\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stockNum),expression:\"stockNum\"}],staticClass:\"age-alert\"},[_vm._v(\"(已超过订单最大购票人数)\")]),_c('el-checkbox-group',{model:{value:(_vm.friendNo),callback:function ($$v) {_vm.friendNo=$$v},expression:\"friendNo\"}},_vm._l((_vm.friends),function(item,index){return _c('el-checkbox',{key:item.id,attrs:{\"value\":index,\"label\":index}},[_vm._v(_vm._s(item.name))])}))],1),_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"disabled\":_vm.userNo===null},on:{\"click\":function($event){_vm.addContact(_vm.userList[_vm.userNo].id)}}},[_vm._v(\"新增联系人\")])],1),_c('div',{staticClass:\"passenger-block\"},[_c('h3',{staticClass:\"passenger-block__head\"},[_vm._v(\"乘机人信息\")]),_vm._l((_vm.friendNo),function(item){return _c('div',{staticClass:\"passenger-block__card\"},[_c('div',{staticClass:\"passenger-block__card_left\"},[_c('p',[_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){_vm.editContact(_vm.friends[item], _vm.userList[_vm.userNo].id)}}})])]),_c('div',{staticClass:\"passenger-block__card_middle\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"姓名:\")]),_c('span',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.friends[item].name))])]),_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"证件类型:\")]),_c('span',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.cardType.get(_vm.friends[item].card_type)))])]),_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"证件号码:\")]),_c('span',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.friends[item].card_number))])])]),_c('div',{staticClass:\"passenger-block__card_right\"},[_c('p',{staticClass:\"line\"},[(_vm.friends[item].age === null)?_c('span',{staticClass:\"detail\"},[_vm._v(\"身份证信息遗漏，请重新编辑\")]):(_vm.friends[item].age>=12)?_c('span',{staticClass:\"detail\"},[_vm._v(\"成人：￥\"+_vm._s(Math.trunc(_vm.cardObj.price.minSalePrice)))]):(_vm.friends[item].age>=2)?_c('span',{staticClass:\"detail\"},[_vm._v(\"儿童：￥\"+_vm._s(_vm.cardObj.price.theprice*0.5))]):_c('span',{staticClass:\"detail\"},[_vm._v(\"婴儿：￥\"+_vm._s(_vm.roundOff(_vm.cardObj.price.theprice*0.1)))])])])])})],2),_c('div',{staticClass:\"select-block\"},[_c('div',{staticClass:\"select-block__choice\"},[_c('p',{staticClass:\"select-block__choice_line\"},[_c('el-checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.insurance),callback:function ($$v) {_vm.insurance=$$v},expression:\"insurance\"}},[_vm._v(\"航空意外险\")])],1)])])]),_c('el-card',{staticClass:\"order-right\"},[_c('el-card',{staticClass:\"ticket-card\"},[_c('div',{staticClass:\"ticket-card__head\"},[_c('h3',{staticClass:\"ticket-card__head_title\"},[_c('span',[_vm._v(_vm._s(_vm.cardObj.departDate))]),_c('span',[_vm._v(_vm._s(_vm.cardObj.departCityName)+\" - \"+_vm._s(_vm.cardObj.arriveCityName))])]),_c('p',{staticClass:\"ticket-card__head_sub\"},[_c('span',[_vm._v(_vm._s(_vm.cardObj.airline))]),_c('span',[_vm._v(_vm._s(_vm.cardObj.no))]),(_vm.cardObj.level.toUpperCase() === \"Y\")?_c('span',[_vm._v(\"经济\"+_vm._s(_vm.cardObj.cabin)+\"舱\")]):(_vm.cardObj.level.toUpperCase() === \"F\")?_c('span',[_vm._v(\"头等\"+_vm._s(_vm.cardObj.cabin)+\"舱\")]):(_vm.cardObj.level.toUpperCase() === \"C\")?_c('span',[_vm._v(\"商务\"+_vm._s(_vm.cardObj.cabin)+\"舱\")]):_vm._e()])]),_c('div',{staticClass:\"ticket-card__journey\"},[_c('div',{staticClass:\"ticket-card__journey_left\"},[_c('h3',{staticClass:\"clock\"},[_vm._v(_vm._s(_vm.cardObj.departTime))]),_c('p',{staticClass:\"airport\"},[_vm._v(_vm._s(_vm.cardObj.departPort))])]),_c('div',{staticClass:\"ticket-card__journey_middle\"},[_c('p',{staticClass:\"last\"},[_vm._v(_vm._s(_vm.cardObj.flightTime))]),_c('p',{staticClass:\"line\"})]),_c('div',{staticClass:\"ticket-card__journey_right\"},[_c('h3',{staticClass:\"clock\"},[_vm._v(_vm._s(_vm.cardObj.arriveTime))]),_c('p',{staticClass:\"airport\"},[_vm._v(_vm._s(_vm.cardObj.arrivePort))])])]),_c('hr'),(_vm.adtMsg.num || _vm.chdMsg.num || _vm.babyMsg.num)?_c('div',{staticClass:\"ticket-card__content\"},[(_vm.adtMsg.num)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"成人票\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"￥\"+_vm._s(Math.trunc(_vm.cardObj.price.minSalePrice))+\" X \"+_vm._s(_vm.adtMsg.num))])])]):_vm._e(),(_vm.chdMsg.num)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"儿童票\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"￥\"+_vm._s(this.cardObj.price.theprice)+\" X \"+_vm._s(_vm.chdMsg.num)+\" X 0.5\")])])]):_vm._e(),(_vm.babyMsg.num)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"婴儿票\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"￥\"+_vm._s(_vm.roundOff(this.cardObj.price.theprice * 0.1))+\" X \"+_vm._s(_vm.babyMsg.num))])])]):_vm._e(),(_vm.adtMsg.num || _vm.chdMsg.num || _vm.babyMsg.num)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"机建费\")]),_c('span',{staticClass:\"line_price\"},[(!_vm.adtMsg.num && !_vm.chdMsg.num)?_c('span',[_vm._v(\"￥0\")]):_c('span',[(_vm.adtMsg.num)?_c('span',{staticClass:\"line_price_adt\"},[_vm._v(\"￥\"+_vm._s(_vm.cardObj.price.taxFee)+\" X \"+_vm._s(_vm.adtMsg.num))]):_vm._e(),(_vm.adtMsg.num && _vm.chdMsg.num)?_c('span',{staticClass:\"line_price_add\"},[_vm._v(\"+\")]):_vm._e(),(_vm.chdMsg.num)?_c('span',{staticClass:\"line_price_chd\"},[_vm._v(_vm._s(_vm.roundOff(_vm.cardObj.price.taxFee * 0.5))+\" X \"+_vm._s(_vm.chdMsg.num))]):_vm._e()])])])]):_vm._e(),(_vm.adtMsg.num || _vm.chdMsg.num || _vm.babyMsg.num)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"燃油费\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"￥\"+_vm._s(_vm.cardObj.price.fuelFee * _vm.friendNo.length))])])]):_vm._e(),_c('hr'),(_vm.insurance)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"航空意外险\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"￥5 X \"+_vm._s(_vm.friendNo.length))])])]):_vm._e(),(_vm.invoice)?_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"line\"},[_c('span',{staticClass:\"line_label\"},[_vm._v(\"报销凭证\")]),_c('span',{staticClass:\"line_price\"},[_vm._v(\"到付\")])])]):_vm._e(),_c('div',{staticClass:\"ticket-card__content_line\"},[_c('p',{staticClass:\"total-price\"},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))])])]):_vm._e(),(_vm.adtMsg.num || _vm.chdMsg.num || _vm.babyMsg.num)?_c('div',{staticClass:\"ticket-card__confirm\"},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.babyAlert || _vm.chdAlert || _vm.stockNum},on:{\"click\":_vm.confirmSend}},[_vm._v(\"发给用户确认并自动预定\")])],1):_vm._e()])],1),_c('div',{staticClass:\"user-model\"},[_c('el-dialog',{attrs:{\"title\":\"联系人\",\"visible\":_vm.ctcModel,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.ctcModel=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.ctcModelLoading),expression:\"ctcModelLoading\"}],ref:\"formContact\",attrs:{\"model\":_vm.formContact,\"rules\":_vm.ruleContact,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formContact.name),callback:function ($$v) {_vm.$set(_vm.formContact, \"name\", $$v)},expression:\"formContact.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.formContact.phone),callback:function ($$v) {_vm.$set(_vm.formContact, \"phone\", $$v)},expression:\"formContact.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.formContact.sex),callback:function ($$v) {_vm.$set(_vm.formContact, \"sex\", _vm._n($$v))},expression:\"formContact.sex\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"女\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"证件类型\",\"prop\":\"card_type\"}},[_c('el-select',{model:{value:(_vm.formContact.card_type),callback:function ($$v) {_vm.$set(_vm.formContact, \"card_type\", $$v)},expression:\"formContact.card_type\"}},[_c('el-option',{attrs:{\"value\":\"NI\",\"label\":\"身份证(默认)\"}}),_c('el-option',{attrs:{\"value\":\"PP\",\"label\":\"护照\"}}),_c('el-option',{attrs:{\"value\":\"HX\",\"label\":\"回乡证\"}}),_c('el-option',{attrs:{\"value\":\"TB\",\"label\":\"台胞证\"}}),_c('el-option',{attrs:{\"value\":\"GA\",\"label\":\"港澳通行证\"}}),_c('el-option',{attrs:{\"value\":\"HY\",\"label\":\"国际海员证\"}}),_c('el-option',{attrs:{\"value\":\"ID\",\"label\":\"其他\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"证件号码\",\"prop\":\"card_number\"}},[_c('el-input',{model:{value:(_vm.formContact.card_number),callback:function ($$v) {_vm.$set(_vm.formContact, \"card_number\", $$v)},expression:\"formContact.card_number\"}})],1),(_vm.formContact.card_type!==\"NI\")?_c('el-form-item',{attrs:{\"label\":\"出生日期\",\"prop\":\"birthday\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeolder\":\"选择出生日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.formContact.birthday),callback:function ($$v) {_vm.$set(_vm.formContact, \"birthday\", $$v)},expression:\"formContact.birthday\"}})],1):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.formContact.id)?_c('el-button',{attrs:{\"disabled\":_vm.ctcModelLoading},on:{\"click\":_vm.ctcDelete}},[_vm._v(\"删除\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.ctcModelLoading},on:{\"click\":function($event){_vm.ctcConfirm(\"formContact\")}}},[_vm._v(\"保存\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-288a4df5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/flight/FlightOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-288a4df5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FlightOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlightOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlightOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-288a4df5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FlightOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-288a4df5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/flight/FlightOrder.vue\n// module id = null\n// module chunks = ","require('../../modules/es6.reflect.delete-property');\nmodule.exports = require('../../modules/_core').Reflect.deleteProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/reflect/delete-property.js\n// module id = Cbyi\n// module chunks = 3 6","module.exports = { \"default\": require(\"core-js/library/fn/math/trunc\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/math/trunc.js\n// module id = INCx\n// module chunks = 3","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.math.trunc.js\n// module id = JWAb\n// module chunks = 3","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.reflect.delete-property.js\n// module id = Nkia\n// module chunks = 3 6","require('../../modules/es6.math.trunc');\nmodule.exports = require('../../modules/_core').Math.trunc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/math/trunc.js\n// module id = q3gF\n// module chunks = 3","module.exports = { \"default\": require(\"core-js/library/fn/reflect/delete-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/reflect/delete-property.js\n// module id = uqrR\n// module chunks = 3 6"],"sourceRoot":""}