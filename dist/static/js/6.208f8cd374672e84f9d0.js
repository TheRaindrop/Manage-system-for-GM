webpackJsonp([6],{Cbyi:function(t,e,i){i("Nkia"),t.exports=i("FeBl").Reflect.deleteProperty},Nkia:function(t,e,i){var o=i("kM2E"),n=i("LKZe").f,a=i("77Pl");o(o.S,"Reflect",{deleteProperty:function(t,e){var i=n(a(t),e);return!(i&&!i.configurable)&&delete t[e]}})},Rw9d:function(t,e){},q7dl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("uqrR"),n=i.n(o),a={data:function(){return{gTableLoading:!1,dialogGcoin:!1,dialogTitle:"",gcoinData:[],formGcoin:{id:"",type:"",initial_g:0,air_benefit:0,hotel_benefit:0,free_voucher_times:0,withdrawal_days:0}}},methods:{operateSuccess:function(){this.$message({message:"操作成功",type:"success"})},getGcoinData:function(){var t=this;this.gTableLoading=!0,this.$http.get("/mobiles").then(function(e){t.gcoinData=e.data,t.gTableLoading=!1}).catch(function(t){console.log(t)})},addType:function(){n()(this.formGcoin,"id"),this.dialogTitle="增加机型",this.formGcoin.type="",this.formGcoin.initial_g=0,this.formGcoin.air_benefit=0,this.formGcoin.hotel_benefit=0,this.formGcoin.free_voucher_times=0,this.formGcoin.withdrawal_days=0,this.dialogGcoin=!0},deleteType:function(t){var e=this;this.$confirm("确认删除？").then(function(){e.$http.delete("/mobiles/"+t).then(function(t){e.getGcoinData(),e.operateSuccess()}).catch(function(t){console.log(t)})}).catch(function(){})},modifyType:function(t){this.dialogTitle="修改设置",this.formGcoin.id=t.id,this.formGcoin.type=t.type,this.formGcoin.initial_g=t.initial_g,this.formGcoin.air_benefit=t.air_benefit,this.formGcoin.hotel_benefit=t.hotel_benefit,this.formGcoin.free_voucher_times=t.free_voucher_times,this.formGcoin.withdrawal_days=t.withdrawal_days,this.dialogGcoin=!0,console.log("modify",t)},addConfirm:function(){var t=this;this.$confirm("确认添加？").then(function(){t.$http.post("/mobiles",t.formGcoin).then(function(e){t.dialogGcoin=!1,t.getGcoinData(),t.operateSuccess()}).catch(function(t){console.log(t)})}).catch(function(){})},modifyConfirm:function(){var t=this;this.$confirm("确认修改？").then(function(){t.$http.patch("/mobiles/"+t.formGcoin.id,{type:t.formGcoin.type,initial_g:t.formGcoin.initial_g,air_benefit:t.formGcoin.air_benefit,hotel_benefit:t.formGcoin.hotel_benefit,free_voucher_times:t.formGcoin.free_voucher_times,withdrawal_days:t.formGcoin.withdrawal_days}).then(function(e){t.dialogGcoin=!1,t.getGcoinData(),t.operateSuccess()}).catch(function(t){console.log(t)})}).catch(function(){})}},created:function(){this.getGcoinData()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("G币机型设置")]),i("span",{staticClass:"authority-alert"},[t._v("(提示：只有超级管理员可以进行操作)")]),i("div",{staticClass:"methods-right"},[i("el-button",{attrs:{type:"success",size:"small"},on:{click:t.addType}},[t._v("新增手机型号")])],1)]),i("div",{staticClass:"gcoin-table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.gTableLoading,expression:"gTableLoading"}],staticStyle:{},attrs:{data:t.gcoinData}},[i("el-table-column",{attrs:{prop:"type",label:"手机型号",align:"center"}}),i("el-table-column",{attrs:{prop:"initial_g",label:"初始G币",align:"center"}}),i("el-table-column",{attrs:{prop:"air_benefit",label:"机票补贴",align:"center"}}),i("el-table-column",{attrs:{prop:"hotel_benefit",label:"酒店补贴",align:"center"}}),i("el-table-column",{attrs:{prop:"free_voucher_times",label:"贵宾厅免费使用次数",align:"center"}}),i("el-table-column",{attrs:{prop:"withdrawal_days",label:"入住后几天返现",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.modifyType(e.row)}}},[t._v("修改")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.deleteType(e.row.id)}}},[t._v("删除机型")])]}}])})],1)],1)]),i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogGcoin,width:"30%"},on:{"update:visible":function(e){t.dialogGcoin=e}}},[i("el-form",{ref:"formGcoin",attrs:{model:t.formGcoin,"label-width":"80px","label-position":"top"}},[i("el-form-item",{attrs:{label:"手机型号",prop:"type"}},[i("el-input",{model:{value:t.formGcoin.type,callback:function(e){t.$set(t.formGcoin,"type",e)},expression:"formGcoin.type"}})],1),i("el-form-item",{attrs:{label:"初始G币",prop:"initial_g"}},[i("el-input",{attrs:{type:"number"},model:{value:t.formGcoin.initial_g,callback:function(e){t.$set(t.formGcoin,"initial_g",t._n(e))},expression:"formGcoin.initial_g"}})],1),i("el-form-item",{attrs:{label:"机票补贴",prop:"air_benefit"}},[i("el-input",{attrs:{type:"number"},model:{value:t.formGcoin.air_benefit,callback:function(e){t.$set(t.formGcoin,"air_benefit",t._n(e))},expression:"formGcoin.air_benefit"}})],1),i("el-form-item",{attrs:{label:"酒店补贴",prop:"hotel_benefit"}},[i("el-input",{attrs:{type:"number"},model:{value:t.formGcoin.hotel_benefit,callback:function(e){t.$set(t.formGcoin,"hotel_benefit",t._n(e))},expression:"formGcoin.hotel_benefit"}})],1),i("el-form-item",{attrs:{label:"贵宾厅免费使用次数",prop:"free_voucher_times"}},[i("el-input",{attrs:{type:"number"},model:{value:t.formGcoin.free_voucher_times,callback:function(e){t.$set(t.formGcoin,"free_voucher_times",t._n(e))},expression:"formGcoin.free_voucher_times"}})],1),i("el-form-item",{attrs:{label:"入住后几天返现",prop:"withdrawal_days"}},[i("el-input",{attrs:{type:"number"},model:{value:t.formGcoin.withdrawal_days,callback:function(e){t.$set(t.formGcoin,"withdrawal_days",t._n(e))},expression:"formGcoin.withdrawal_days"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogGcoin=!1}}},[t._v("取消")]),"增加机型"===t.dialogTitle?[i("el-button",{attrs:{type:"primary"},on:{click:t.addConfirm}},[t._v("确认添加")])]:"修改设置"===t.dialogTitle?[i("el-button",{attrs:{type:"primary"},on:{click:t.modifyConfirm}},[t._v("确认修改")])]:t._e()],2)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(a,l,!1,function(t){i("Rw9d")},"data-v-2becbcbc",null);e.default=r.exports},uqrR:function(t,e,i){t.exports={default:i("Cbyi"),__esModule:!0}}});
//# sourceMappingURL=6.208f8cd374672e84f9d0.js.map