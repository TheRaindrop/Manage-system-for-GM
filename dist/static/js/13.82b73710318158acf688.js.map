{"version":3,"sources":["webpack:///src/pages/return/ReturnDetail.vue","webpack:///./src/pages/return/ReturnDetail.vue?44d1","webpack:///./src/pages/return/ReturnDetail.vue"],"names":["ReturnDetail","Date","end","account","amount","then","res","data","details","error","_this2","this","results","return_ReturnDetail","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","slot","_v","staticStyle","float","margin-right","width","filterable","placeholder","size","on","change","getRetDetail","model","callback","$$v","userID","_l","item","index","key","id","label","phone","nickname","margin","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions","value-format","dateRange","background-color","_s","userAmount","userRetDetail","prop","formatter","accountForm","dateForm","amountForm","typeForm","resultForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.82b73710318158acf688.js","sourcesContent":["<template lang='pug'>\r\n    div\r\n        el-card(v-loading='loading')\r\n            .clearfix(slot='header')\r\n                span 单账户返现明细\r\n                .search-bar(style='float: right')\r\n                    span(style='margin-right: 10px') 用户选择\r\n                    el-select(v-model='userID', filterable, style='width: 200px', @change='getRetDetail', placeholder='手机号码查找用户', size='small')\r\n                        el-option(v-for='(item, index) in userList', :value='item.id', :key='index', :label='item.phone + \" - \" + item.nickname')\r\n                    span(style='margin: 0 10px 0 20px') 时间范围\r\n                    el-date-picker(v-model='dateRange', @change='getRetDetail', size='small', type='daterange', align='right', unlink-panels, range-separator='至', start-placeholder='开始日期', end-placeholder='结束日期', :picker-options='pickerOptions', value-format='yyyy-MM-dd')\r\n            el-card(style='width: 400px; background-color: #67C23A')\r\n                h3.title 单人累计返现\r\n                p.amount\r\n                    span.amount__logo ￥\r\n                    span.amount__num {{userAmount}}\r\n            el-table(:data='userRetDetail', v-loading='loading', style='width: 100%')\r\n                el-table-column(label='目标用户', prop='name', align='center')\r\n                el-table-column(label='账户', prop='account', :formatter='accountForm', align='center')\r\n                //- el-table-column(label='订单ID', prop='order_no', align='center')\r\n                el-table-column(label='创建日期', prop='date_created', :formatter='dateForm', align='center')\r\n                el-table-column(label='提现总额', prop='amount', :formatter='amountForm', align='center')\r\n                el-table-column(label='目标账户类型', prop='type', :formatter='typeForm', align='center')\r\n                el-table-column(label='提现结果', prop='succeeded', :formatter='resultForm', align='center')\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            loading: false,\r\n            userID: null,\r\n            userList: [],\r\n            dateRange: [],\r\n            userRetDetail: [],\r\n            userAmount: 0,\r\n            pickerOptions: {\r\n                shortcuts: [{\r\n                    text: '最近一周',\r\n                    onClick (picker) {\r\n                        const end = new Date()\r\n                        const start = new Date()\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                        picker.$emit('pick', [start, end])\r\n                    }\r\n                }, {\r\n                    text: '最近一个月',\r\n                    onClick (picker) {\r\n                        const end = new Date()\r\n                        const start = new Date()\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                        picker.$emit('pick', [start, end])\r\n                    }\r\n                }, {\r\n                    text: '最近三个月',\r\n                    onClick (picker) {\r\n                        const end = new Date()\r\n                        const start = new Date()\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\r\n                        picker.$emit('pick', [start, end])\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        accountForm (row, column) { // 尾缀带Form的都是element表格进行数据格式化的\r\n            if (row.account.length > 12) {\r\n                return '微信openid'\r\n            } else {\r\n                return row.account\r\n            }\r\n        },\r\n        dateForm (row, column) {\r\n            return row.date_created.substr(0, 10)\r\n        },\r\n        resultForm (row, column) {\r\n            if (row.succeeded === true) {\r\n                return '成功'\r\n            } else {\r\n                return '失败'\r\n            }\r\n        },\r\n        typeForm (row, column) {\r\n            if (row.type === 1) {\r\n                return '微信'\r\n            } else if (row.type === 2) {\r\n                return '支付宝'\r\n            } else {\r\n                return '其他'\r\n            }\r\n        },\r\n        amountForm (row, column) {\r\n            return '￥' + row.amount\r\n        },\r\n        getRetDetail () { // 获取用户的返现详情\r\n            if (this.userID === null) {\r\n                this.$message.error('请选择查询用户')\r\n                return\r\n            }\r\n            this.loading = true\r\n            if (this.dateRange === null) this.dateRange = []\r\n            this.$http.get('/users/withdrawals/' + this.userID, {\r\n                params: {\r\n                    start_time: this.dateRange[0],\r\n                    end_time: this.dateRange[1]\r\n                }\r\n            }).then(res => {\r\n                console.log(res.data)\r\n                this.userRetDetail = res.data.details\r\n                this.userAmount = res.data.amount\r\n                this.loading = false\r\n            }).catch(error => {\r\n                this.loading = false\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n    created () {\r\n        this.$http.get('/users', {\r\n            params: {\r\n                page_size: 10000\r\n            }\r\n        }).then((res) => {\r\n            this.userList = res.data.results\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search-bar {\r\n    display: inline-block;\r\n    margin-left: 20px;\r\n}\r\n.title {\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n}\r\n.amount__num {\r\n    font-size: 30px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/return/ReturnDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"单账户返现明细\")]),_c('div',{staticClass:\"search-bar\",staticStyle:{\"float\":\"right\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"用户选择\")]),_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"filterable\",\"placeholder\":\"手机号码查找用户\",\"size\":\"small\"},on:{\"change\":_vm.getRetDetail},model:{value:(_vm.userID),callback:function ($$v) {_vm.userID=$$v},expression:\"userID\"}},_vm._l((_vm.userList),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":item.id,\"label\":item.phone + \" - \" + item.nickname}})})),_c('span',{staticStyle:{\"margin\":\"0 10px 0 20px\"}},[_vm._v(\"时间范围\")]),_c('el-date-picker',{attrs:{\"size\":\"small\",\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"unlink-panels\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions,\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.getRetDetail},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1)]),_c('el-card',{staticStyle:{\"width\":\"400px\",\"background-color\":\"#67C23A\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"单人累计返现\")]),_c('p',{staticClass:\"amount\"},[_c('span',{staticClass:\"amount__logo\"},[_vm._v(\"￥\")]),_c('span',{staticClass:\"amount__num\"},[_vm._v(_vm._s(_vm.userAmount))])])]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userRetDetail}},[_c('el-table-column',{attrs:{\"label\":\"目标用户\",\"prop\":\"name\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"账户\",\"prop\":\"account\",\"formatter\":_vm.accountForm,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"创建日期\",\"prop\":\"date_created\",\"formatter\":_vm.dateForm,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"提现总额\",\"prop\":\"amount\",\"formatter\":_vm.amountForm,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"目标账户类型\",\"prop\":\"type\",\"formatter\":_vm.typeForm,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"提现结果\",\"prop\":\"succeeded\",\"formatter\":_vm.resultForm,\"align\":\"center\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b4e0148\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/return/ReturnDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b4e0148\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ReturnDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReturnDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReturnDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b4e0148\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ReturnDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b4e0148\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/return/ReturnDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}