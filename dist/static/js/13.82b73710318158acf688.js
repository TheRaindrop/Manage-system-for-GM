webpackJsonp([13],{Hlm7:function(e,t){},"w95/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{loading:!1,userID:null,userList:[],dateRange:[],userRetDetail:[],userAmount:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{accountForm:function(e,t){return e.account.length>12?"微信openid":e.account},dateForm:function(e,t){return e.date_created.substr(0,10)},resultForm:function(e,t){return!0===e.succeeded?"成功":"失败"},typeForm:function(e,t){return 1===e.type?"微信":2===e.type?"支付宝":"其他"},amountForm:function(e,t){return"￥"+e.amount},getRetDetail:function(){var e=this;null!==this.userID?(this.loading=!0,null===this.dateRange&&(this.dateRange=[]),this.$http.get("/users/withdrawals/"+this.userID,{params:{start_time:this.dateRange[0],end_time:this.dateRange[1]}}).then(function(t){console.log(t.data),e.userRetDetail=t.data.details,e.userAmount=t.data.amount,e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})):this.$message.error("请选择查询用户")}},created:function(){var e=this;this.$http.get("/users",{params:{page_size:1e4}}).then(function(t){e.userList=t.data.results}).catch(function(e){console.log(e)})}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("单账户返现明细")]),a("div",{staticClass:"search-bar",staticStyle:{float:"right"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("用户选择")]),a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"filterable",placeholder:"手机号码查找用户",size:"small"},on:{change:e.getRetDetail},model:{value:e.userID,callback:function(t){e.userID=t},expression:"userID"}},e._l(e.userList,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.phone+" - "+e.nickname}})})),a("span",{staticStyle:{margin:"0 10px 0 20px"}},[e._v("时间范围")]),a("el-date-picker",{attrs:{size:"small",type:"daterange",align:"right","unlink-panels":"unlink-panels","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},on:{change:e.getRetDetail},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)]),a("el-card",{staticStyle:{width:"400px","background-color":"#67C23A"}},[a("h3",{staticClass:"title"},[e._v("单人累计返现")]),a("p",{staticClass:"amount"},[a("span",{staticClass:"amount__logo"},[e._v("￥")]),a("span",{staticClass:"amount__num"},[e._v(e._s(e.userAmount))])])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userRetDetail}},[a("el-table-column",{attrs:{label:"目标用户",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"账户",prop:"account",formatter:e.accountForm,align:"center"}}),a("el-table-column",{attrs:{label:"创建日期",prop:"date_created",formatter:e.dateForm,align:"center"}}),a("el-table-column",{attrs:{label:"提现总额",prop:"amount",formatter:e.amountForm,align:"center"}}),a("el-table-column",{attrs:{label:"目标账户类型",prop:"type",formatter:e.typeForm,align:"center"}}),a("el-table-column",{attrs:{label:"提现结果",prop:"succeeded",formatter:e.resultForm,align:"center"}})],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,l,!1,function(e){a("Hlm7")},"data-v-5b4e0148",null);t.default=r.exports}});
//# sourceMappingURL=13.82b73710318158acf688.js.map